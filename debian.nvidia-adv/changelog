linux-nvidia-adv (6.8.0-1003.3) noble; urgency=medium

  * NVIDIA: SAUCE: acpi/prmt: find block with specific type (LP: #2081874)
    - NVIDIA: SAUCE: acpi/prmt: find block with specific type

  * Pull-request to address ARM SMMU issue (LP: #2031320)
    - NVIDIA: SAUCE: iommu/arm-smmu-v3: Allow default substream bypass with a
      pasid support

  * Pull request: mm: fix old/young bit handling in the faulting path of
    set_pte_range() (LP: #2075396)
    - mm: fix old/young bit handling in the faulting path

  * Pull-request:Add a kernel command-line option 'config_acs' to directly
    control all the ACS bits for specific devices (LP: #2073811)
    - PCI: Extend ACS configurability

  * PR for:  "IB/mlx5: Use __iowrite64_copy() for write combining stores"
    (LP: #2071655)
    - x86: Stop using weak symbols for __iowrite32_copy()
    - s390: Implement __iowrite32_copy()
    - s390: Stop using weak symbols for __iowrite64_copy()
    - arm64/io: Provide a WC friendly __iowriteXX_copy()
    - net: hns3: Remove io_stop_wc() calls after __iowrite64_copy()

  * PR for:  "PCI: Clear Secondary Status errors after enumeration"
    (LP: #2071654)
    - PCI: Clear Secondary Status errors after enumeration

  * mlxbf_pmc: bring in latest 6.8 upstream commits (LP: #2069777)
    - platform/mellanox: mlxbf-pmc: Replace uintN_t with kernel-style types
    - platform/mellanox: mlxbf-pmc: Cleanup signed/unsigned mix-up
    - platform/mellanox: mlxbf-pmc: mlxbf_pmc_event_list(): make size ptr optional
    - platform/mellanox: mlxbf-pmc: Ignore unsupported performance blocks
    - platform/mellanox: mlxbf-pmc: fix signedness bugs

  * mlxbf_gige: bring in latest 6.x upstream commits (LP: #2068067)
    - mlxbf_gige: add support to display pause frame counters

  * Export kernel symbols required for NVIDIA GDS (LP: #2068544)
    - NVIDIA: SAUCE: NFS: Export nvfs register and unregister functions as GPL
    - NVIDIA: SAUCE: NVMe/NVMeoF: Export nvfs register and unregister functions as
      GPL

  * linux-nvidia-6.5_6.5.0-1014.14 breaks with earlier BIOS release, and
    modeset/resolutions are wrong (LP: #2061930) // Blacklist coresight_etm4x
    (LP: #2067106)
    - [Packaging] blacklist coresight_etm4x

  * backport arm64 THP improvements from 6.9 (LP: #2059316)
    - arm64/mm: make set_ptes() robust when OAs cross 48-bit boundary
    - arm/pgtable: define PFN_PTE_SHIFT
    - nios2/pgtable: define PFN_PTE_SHIFT
    - powerpc/pgtable: define PFN_PTE_SHIFT
    - riscv/pgtable: define PFN_PTE_SHIFT
    - s390/pgtable: define PFN_PTE_SHIFT
    - sparc/pgtable: define PFN_PTE_SHIFT
    - mm/pgtable: make pte_next_pfn() independent of set_ptes()
    - arm/mm: use pte_next_pfn() in set_ptes()
    - powerpc/mm: use pte_next_pfn() in set_ptes()
    - mm/memory: factor out copying the actual PTE in copy_present_pte()
    - mm/memory: pass PTE to copy_present_pte()
    - mm/memory: optimize fork() with PTE-mapped THP
    - mm/memory: ignore dirty/accessed/soft-dirty bits in folio_pte_batch()
    - mm/memory: ignore writable bit in folio_pte_batch()
    - mm: clarify the spec for set_ptes()
    - mm: thp: batch-collapse PMD with set_ptes()
    - mm: introduce pte_advance_pfn() and use for pte_next_pfn()
    - arm64/mm: convert pte_next_pfn() to pte_advance_pfn()
    - x86/mm: convert pte_next_pfn() to pte_advance_pfn()
    - mm: tidy up pte_next_pfn() definition
    - arm64/mm: convert READ_ONCE(*ptep) to ptep_get(ptep)
    - arm64/mm: convert set_pte_at() to set_ptes(..., 1)
    - arm64/mm: convert ptep_clear() to ptep_get_and_clear()
    - arm64/mm: new ptep layer to manage contig bit
    - arm64/mm: dplit __flush_tlb_range() to elide trailing DSB
    - NVIDIA: [Config] arm64: ARM64_CONTPTE=y
    - arm64/mm: wire up PTE_CONT for user mappings
    - arm64/mm: implement new wrprotect_ptes() batch API
    - arm64/mm: implement new [get_and_]clear_full_ptes() batch APIs
    - mm: add pte_batch_hint() to reduce scanning in folio_pte_batch()
    - arm64/mm: implement pte_batch_hint()
    - arm64/mm: __always_inline to improve fork() perf
    - arm64/mm: automatically fold contpte mappings
    - arm64/mm: export contpte symbols only to GPL users
    - arm64/mm: improve comment in contpte_ptep_get_lockless()

  * Enable GDS in the 6.8 based linux-nvidia kernel (LP: #2059814)
    - NVIDIA: SAUCE: Patch NFS driver to support GDS with 6.8 Kernel
    - NVIDIA: SAUCE: NVMe/MVMEeOF: Patch NVMe/NVMeOF driver to support GDS on
      Linux 6.8 Kernel

  * Miscellaneous upstream changes
    - NVIDIA: linux-nvidia-adv-6.8.0-1002.2
    - Revert "NVIDIA: SAUCE: iommu/arm-smmu-v3: Allow default substream bypass
      with a pasid support"
    - vfio: replace CONFIG_HAVE_KVM with IS_ENABLED(CONFIG_KVM)
    - iommu/iova: Tidy up iova_cache_get() failure
    - iommu/iova: Reorganise some code
    - iommu/iova: use named kmem_cache for iova magazines
    - iommu/ipmmu-vmsa: Minor cleanups
    - iommu: Introduce iommu_group_mutex_assert()
    - iommu: Move iommu fault data to linux/iommu.h
    - iommu/arm-smmu-v3: Remove unrecoverable faults reporting
    - iommu: Remove unrecoverable fault data
    - iommu: Cleanup iopf data structure definitions
    - iommu: Merge iopf_device_param into iommu_fault_param
    - iommu: Remove iommu_[un]register_device_fault_handler()
    - iommu: Merge iommu_fault_event and iopf_fault
    - iommu: Prepare for separating SVA and IOPF
    - iommu: Make iommu_queue_iopf() more generic
    - iommu: Separate SVA and IOPF
    - iommu: Refine locking for per-device fault data management
    - iommu: Use refcount for fault data access
    - iommu: Improve iopf_queue_remove_device()
    - iommu: Track iopf group instead of last fault
    - iommu: Make iopf_group_response() return void
    - iommu: Make iommu_report_device_fault() return void
    - treewide: replace or remove redundant def_bool in Kconfig files
    - iommu/arm-smmu-qcom: Add X1E80100 MDSS compatible
    - vfio/pci: WARN_ON driver_override kasprintf failure
    - vfio: mdev: make mdev_bus_type const
    - vfio/pci: rename and export do_io_rw()
    - vfio/pci: rename and export range_intersect_range
    - vfio/nvgrace-gpu: Add vfio pci variant module for grace hopper
    - KVM: arm64: Introduce new flag for non-cacheable IO memory
    - mm: Introduce new flag to indicate wc safe
    - KVM: arm64: Set io memory s2 pte as normalnc for vfio pci device
    - vfio: Convey kvm that the vfio-pci device is wc safe
    - iommu/arm-smmu-v3: Make STE programming independent of the callers
    - iommu/arm-smmu-v3: Consolidate the STE generation for abort/bypass
    - iommu/arm-smmu-v3: Move the STE generation for S1 and S2 domains into
      functions
    - iommu/arm-smmu-v3: Build the whole STE in arm_smmu_make_s2_domain_ste()
    - iommu/arm-smmu-v3: Compute the STE only once for each master
    - iommu/arm-smmu-v3: Do not change the STE twice during arm_smmu_attach_dev()
    - iommu/arm-smmu-v3: Put writing the context descriptor in the right order
    - iommu/arm-smmu-v3: Pass smmu_domain to arm_enable/disable_ats()
    - iommu/arm-smmu-v3: Remove arm_smmu_master->domain
    - iommu/arm-smmu-v3: Check that the RID domain is S1 in SVA
    - iommu/arm-smmu-v3: Add a global static IDENTITY domain
    - iommu/arm-smmu-v3: Add a global static BLOCKED domain
    - iommu/arm-smmu-v3: Use the identity/blocked domain during release
    - iommu/arm-smmu-v3: Pass arm_smmu_domain and arm_smmu_device to finalize
    - iommu/arm-smmu-v3: Convert to domain_alloc_paging()
    - iommu: constify pointer to bus_type
    - iommu: constify of_phandle_args in xlate
    - iommu: constify fwnode in iommu_ops_from_fwnode()
    - iommu: re-use local fwnode variable in iommu_ops_from_fwnode()
    - vfio/nvgrace-gpu: Convey kvm to map device memory region as noncached
    - Revert "vfio/type1: Unpin zero pages"
    - iommu/dma: Document min_align_mask assumption
    - iommu/arm-smmu-v3: Add cpu_to_le64() around STRTAB_STE_0_V
    - iommu/arm-smmu-v3: Fix access for STE.SHCFG
    - swiotlb: fix swiotlb_bounce() to do partial sync's correctly
    - iommu/arm-smmu-v3: Retire disable_bypass parameter
    - iommu/arm-smmu-v3: Do not allow a SVA domain to be set on the wrong PASID
    - iommu/arm-smmu-v3: Do not ATC invalidate the entire domain
    - iommu/arm-smmu-v3: Add a type for the CD entry
    - iommu: Pass domain to remove_dev_pasid() op
    - iommu/dma: use iommu_put_pages_list() to releae freelist
    - iommu/vt-d: add wrapper functions for page allocations
    - iommu/io-pgtable-arm: use page allocation function provided by iommu-pages.h
    - iommu: observability of the IOMMU allocations
    - iommu: account IOMMU allocated memory
    - iommu/arm-smmu: Convert to domain_alloc_paging()
    - iommu/arm-smmu-qcom-debug: Add support for TBUs
    - iommu/arm-smmu: Allow using a threaded handler for context interrupts
    - iommu/arm-smmu-qcom: Use a custom context fault handler for sdm845
    - iommu/arm-smmu-qcom: Use the custom fault handler on more platforms
    - iommu: Add ops->domain_alloc_sva()
    - iommu/arm-smmu-qcom: Don't build debug features as a kernel module
    - iommu/arm-smmu-v3: Add an ops indirection to the STE code
    - iommu/arm-smmu-v3: Make CD programming use arm_smmu_write_entry()
    - iommu/arm-smmu-v3: Move the CD generation for S1 domains into a function
    - iommu/arm-smmu-v3: Consolidate clearing a CD table entry
    - iommu/arm-smmu-v3: Make arm_smmu_alloc_cd_ptr()
    - iommu/arm-smmu-v3: Allocate the CD table entry in advance
    - iommu/arm-smmu-v3: Move the CD generation for SVA into a function
    - iommu/arm-smmu-v3: Build the whole CD in arm_smmu_make_s1_cd()
    - iommu/arm-smmu-v3: Add unit tests for arm_smmu_write_entry
    - mm/memory-failure: convert shake_page() to shake_folio()
    - mm: convert hugetlb_page_mapping_lock_write to folio
    - mm/memory-failure: convert memory_failure() to use a folio
    - mm/memory-failure: convert hwpoison_user_mappings to take a folio
    - mm/memory-failure: add some folio conversions to unpoison_memory
    - mm/memory-failure: use folio functions throughout collect_procs()
    - mm/memory-failure: pass the folio to collect_procs_ksm()
    - memory-failure: remove calls to page_mapping()
    - swiotlb: remove alloc_size argument to swiotlb_tbl_map_single()
    - iommu/dma: fix zeroing of bounce buffer padding used by untrusted devices
    - iommu/arm-smmu-v3: Make the kunit into a module
    - vfio/pci: Restore zero affected bus reset devices warning
    - iommu/arm-smmu-v3: Avoid uninitialized asid in case of error
    - iommu/arm-smmu-v3: Use *-y instead of *-objs in Makefile
    - iommu: Make iommu_sva_domain_alloc() static
    - iommu/dma: Prune redundant pgprot arguments
    - iommu/iova: Add missing MODULE_DESCRIPTION() macro
    - iommufd: Use atomic_long_try_cmpxchg() in incr_user_locked_vm()
    - iommufd/selftest: Fix dirty bitmap tests with u8 bitmaps
    - iommufd/selftest: Fix iommufd_test_dirty() to handle <u8 bitmaps
    - iommufd/selftest: Add tests for <= u8 bitmap sizes
    - iommufd/selftest: Fix tests to use MOCK_PAGE_SIZE based buffer sizes
    - iommufd/selftest: Do not record head iova to better match iommu drivers
    - iommufd/iova_bitmap: Check iova_bitmap_done() after set ahead
    - iommufd/iova_bitmap: Cache mapped length in iova_bitmap_map struct
    - iommufd/iova_bitmap: Move initial pinning to iova_bitmap_for_each()
    - iommufd/iova_bitmap: Consolidate iova_bitmap_set exit conditionals
    - iommufd/iova_bitmap: Dynamic pinning on iova_bitmap_set()
    - iommufd/iova_bitmap: Remove iterator logic
    - iommu/arm-smmu-v3: Convert to domain_alloc_sva()
    - iommu/arm-smmu-v3: Start building a generic PASID layer
    - iommu/arm-smmu-v3: Make smmu_domain->devices into an allocated list
    - iommu/arm-smmu-v3: Make changing domains be hitless for ATS
    - iommu/arm-smmu-v3: Add ssid to struct arm_smmu_master_domain
    - iommu/arm-smmu-v3: Do not use master->sva_enable to restrict attaches
    - iommu/arm-smmu-v3: Thread SSID through the arm_smmu_attach_*() interface
    - iommu/arm-smmu-v3: Make SVA allocate a normal arm_smmu_domain
    - iommu/arm-smmu-v3: Keep track of arm_smmu_master_domain for SVA
    - iommu/arm-smmu-v3: Put the SVA mmu notifier in the smmu_domain
    - iommu/arm-smmu-v3: Allow IDENTITY/BLOCKED to be set while PASID is used
    - iommu/arm-smmu-v3: Test the STE S1DSS functionality
    - iommu/arm-smmu-v3: Allow a PASID to be set when RID is IDENTITY/BLOCKED
    - iommu/arm-smmu-v3: Allow setting a S1 domain to a PASID
    - iommu/arm-smmu-v3: Do not zero the strtab twice
    - iommu/arm-smmu-v3: Shrink the strtab l1_desc array
    - iommu/arm-smmu-v3: add missing MODULE_DESCRIPTION() macro
    - iommu/arm-smmu: Add CB prefix to register bitfields
    - iommu/arm-smmu-qcom-debug: Do not print for handled faults
    - iommu/arm-smmu: Pretty-print context fault related regs
    - iommu/arm-smmu-qcom: record reason for deferring probe
    - iommu/arm-smmu-v3: Add support for domain_alloc_user fn
    - iommu/arm-smmu-v3: Add feature detection for HTTU
    - iommu/io-pgtable-arm: Add read_and_clear_dirty() support
    - iommu/arm-smmu-v3: Add support for dirty tracking in domain alloc
    - iommu/arm-smmu-v3: Enable HTTU for stage1 with io-pgtable mapping
    - iommu: Introduce domain attachment handle
    - iommu: Remove sva handle list
    - iommu: Add attach handle to struct iopf_group
    - iommu: Extend domain attach group with handle support
    - iommu: Add iommu_paging_domain_alloc() interface
    - iommufd: Use iommu_paging_domain_alloc()
    - vfio/type1: Use iommu_paging_domain_alloc()
    - iommu/of: Support ats-supported device-tree property
    - iommufd: Add fault and response message definitions
    - iommufd: Add iommufd fault object
    - iommufd: Fault-capable hwpt attach/detach/replace
    - iommufd: Associate fault object with iommufd_hw_pgtable
    - iommufd/selftest: Add IOPF support for mock device
    - iommufd/selftest: Add coverage for IOPF test
    - iommufd: Require drivers to supply the cache_invalidate_user ops
    - vfio/pci: Init the count variable in collecting hot-reset devices
    - iommufd: Remove IOMMUFD_PAGE_RESP_FAILURE
    - iommufd: Add check on user response code
    - iommufd: Fix error pointer checking
    - iommu: Move IOMMU_DIRTY_NO_CLEAR define
    - iommufd: Put constants for all the uAPI enums
    - iommufd/device: Fix hwpt at err_unresv in iommufd_device_do_replace()
    - iommufd: Reorder include files
    - iommu/arm-smmu-v3: Issue a batch of commands to the same cmdq
    - iommu/arm-smmu-v3: Pass in cmdq pointer to arm_smmu_cmdq_build_sync_cmd
    - iommu/arm-smmu-v3: Pass in cmdq pointer to arm_smmu_cmdq_init
    - iommu/arm-smmu-v3: Make symbols public for CONFIG_TEGRA241_CMDQV
    - iommu/arm-smmu-v3: Add ARM_SMMU_OPT_TEGRA241_CMDQV
    - iommu/arm-smmu-v3: Add acpi_smmu_iort_probe_model for impl
    - iommu/arm-smmu-v3: Add struct arm_smmu_impl_ops
    - iommu/arm-smmu-v3: Add in-kernel support for NVIDIA Tegra241 (Grace) CMDQV
    - iommu/arm-smmu-v3: Start a new batch if new command is not supported
    - iommu/tegra241-cmdqv: Limit CMDs for VCMDQs of a guest owned VINTF
    - iommu/tegra241-cmdqv: Fix -Wformat-truncation warnings in
      lvcmdq_error_header
    - iommu/tegra241-cmdqv: Fix ioremap() error handling in probe()
    - iommu/tegra241-cmdqv: Drop static at local variable
    - iommu/tegra241-cmdqv: Do not allocate vcmdq until dma_set_mask_and_coherent
    - iommu/arm-smmu-v3: Use the new rb tree helpers
    - iommu/arm-smmu-v3: Add arm_smmu_strtab_l1/2_idx()
    - iommu/arm-smmu-v3: Add types for each level of the 2 level stream table
    - iommu/arm-smmu-v3: Reorganize struct arm_smmu_strtab_cfg
    - iommu/arm-smmu-v3: Remove strtab_base/cfg
    - iommu/arm-smmu-v3: Do not use devm for the cd table allocations
    - iommu/arm-smmu-v3: Shrink the cdtab l1_desc array
    - iommu/arm-smmu-v3: Add types for each level of the CD table
    - iommu/arm-smmu-v3: Reorganize struct arm_smmu_ctx_desc_cfg
    - iommu/arm-smmu: Un-demote unhandled-fault msg
    - iommu/arm-smmu-qcom: Register the TBU driver in qcom_smmu_impl_init
    - iommu/arm-smmu-v3: Fix a NULL vs IS_ERR() check
    - iommufd/selftest: Fix buffer read overrrun in the dirty test
    - iommu: Handle iommu faults for a bad iopf setup
    - cover-letter: Apply upstream patches for dependencies
    - vfio: Remove VFIO_TYPE1_NESTING_IOMMU
    - iommu/arm-smmu-v3: Use S2FWB when available
    - ACPICA: IORT: Update for revision E.f
    - ACPI/IORT: Support CANWBS memory access flag
    - iommu/arm-smmu-v3: Report IOMMU_CAP_ENFORCE_CACHE_COHERENCY for CANWBS
    - iommu/arm-smmu-v3: Support IOMMU_GET_HW_INFO via struct arm_smmu_hw_info
    - iommu/arm-smmu-v3: Implement IOMMU_HWPT_ALLOC_NEST_PARENT
    - iommu/arm-smmu-v3: Support IOMMU_DOMAIN_NESTED
    - cover-letter: Initial support for SMMUv3 nested translation
    - WAR: ACPI/IORT: Set CANWBS for Grace CPU
    - cover-letter: WAR for nesting patches
    - iommufd: Reorder struct forward declarations
    - iommufd/viommu: Add IOMMUFD_OBJ_VIOMMU and IOMMU_VIOMMU_ALLOC ioctl
    - iommu: Pass in a viommu pointer to domain_alloc_user op
    - iommufd: Allow pt_id to carry viommu_id for IOMMU_HWPT_ALLOC
    - iommufd/selftest: Add IOMMU_VIOMMU_ALLOC test coverage
    - iommufd/viommu: Add IOMMU_VIOMMU_SET/UNSET_VDEV_ID ioctl
    - iommufd/selftest: Add IOMMU_VIOMMU_SET/UNSET_VDEV_ID test coverage
    - iommufd/viommu: Add cache_invalidate for IOMMU_VIOMMU_TYPE_DEFAULT
    - iommufd: Allow hwpt_id to carry viommu_id for IOMMU_HWPT_INVALIDATE
    - iommufd/viommu: Add vdev_id helpers for IOMMU drivers
    - iommu: Add iommu_copy_struct_from_full_user_array helper
    - iommufd/selftest: Add mock_viommu_invalidate_user op
    - iommufd/selftest: Add IOMMU_TEST_OP_DEV_CHECK_CACHE test command
    - iommufd/selftest: Add VIOMMU coverage for IOMMU_HWPT_INVALIDATE ioctl
    - iommufd/viommu: Add iommufd_viommu_to_parent_domain helper
    - iommu/arm-smmu-v3: Add arm_smmu_cache_invalidate_user
    - iommu/arm-smmu-v3: Add arm_smmu_viommu_cache_invalidate
    - iommu/arm-smmu-v3: Allow ATS for IOMMU_DOMAIN_NESTED
    - iommu/arm-smmu-v3: Update comments about ATS and bypass
    - cover-letter: iommufd: Add VIOMMU infrastructure (Part-1)
    - iommufd: Rename IOMMUFD_OBJ_FAULT to IOMMUFD_OBJ_EVENT_IOPF
    - iommufd: Rename fault.c to event.c
    - iommufd: Add IOMMUFD_OBJ_EVENT_VIRQ and IOMMUFD_CMD_VIRQ_ALLOC
    - iommufd/viommu: Allow drivers to control vdev_id lifecycle
    - iommufd/viommu: Add iommufd_vdev_id_to_dev helper
    - iommufd/viommu: Add iommufd_viommu_report_irq helper
    - iommufd/selftest: Implement mock_viommu_set/unset_vdev_id
    - iommufd/selftest: Add IOMMU_TEST_OP_TRIGGER_VIRQ for VIRQ coverage
    - iommufd/selftest: Add EVENT_VIRQ test coverage
    - iommu/arm-smmu-v3: Report virtual IRQ for device in user space
    - cover-letter: iommufd: Add VIOMMU infrastructure (Part-2 VIRQ)
    - iommufd/device: Enforce reserved IOVA also when attached to hwpt_nested
    - iommu/dma: Support MSIs through nested domains
    - iommu/arm-smmu-v3: Implement arm_smmu_get_msi_mapping_domain
    - cover-letter: Apply RMR solution for MSI mappings
    - WAR: iommufd/pages: Bypass PFNMAP
    - WAR: vfio/pci: Report PASID capability
    - mm: handle poisoning of pfn without struct pages
    - mm: Add poison error check in fixup_user_fault() for mapped pfn
    - mm: Change ghes code to allow poison of non-struct pfn
    - vfio/nvgrace-gpu: register device memory for poison handling
    - KVM: arm64: determine memory type from VMA
    - arm64: configs: Build NVGRACE_GPU_VFIO_PCI as LKM
    - arm64: configs: Enable IOMMUFD and VFIO_DEVICE_CDEV
    - arm64: configs: Replace VFIO_CONTAINER with IOMMUFD_VFIO_CONTAINER
    - cover-letter: Add GPU passthrough support
    - iommufd: Move iommufd_viommu structs to public iommufd header
    - iommufd: Rename _iommufd_object_alloc to iommufd_object_alloc_elm
    - iommufd/viommu: Support driver-managed viommu allocation
    - iommufd/viommu: Allow driver-level vdev_id structure
    - iommufd: Add struct iommufd_vqueue and its related viommu ops
    - iommufd: Add IOMMUFD_OBJ_VQUEUE and IOMMUFD_CMD_VQUEUE_ALLOC
    - iommufd: Add mmap infrastructure
    - iommu/tegra241-cmdqv: Add user-space use support
    - cover-letter: iommufd: Add VIOMMU infrastructure (Part-3 VQUEUE)
    - arm64: defconfig: Enable CONFIG_TEGRA241_CMDQV
    - arm64: defconfig: Enable CONFIG_DMA_MAP_BENCHMARK
    - cover-letter: Add CMDQV support
    - vfio/nvgrace-gpu: Read dvsec register to determine need for uncached resmem
    - vfio/nvgrace-gpu: Expose the blackwell device PF BAR1 to the VM
    - vfio/nvgrace-gpu: Check the HBM training and C2C link status
    - cover-letter: vfio/nvgrace-gpu: Enable grace blackwell boards
    - KVM: arm64: Allow exec fault on memory mapped cacheable in VMA
    - vfio/nvgrace-egm: Introduce module to manage EGM
    - vfio/nvgrace-egm: Handle pages with ECC errors on the EGM
    - vfio/nvgrace-egm: Register EGM for runtime ECC poison errors handling
    - arm64: configs: Build CONFIG_NVGRACE_EGM as LKM
    - cover-letter: Add virtualization support for EGM
    - vfio/nvgrace-egm: Move the egm header file to include
    - vfio/nvgrace-gpu: Add a new GH200 SKU to the devid table
    - cover-letter: vfio/nvgrace-gpu: Enable GH SKU and migrate EGM header
    - NVIDIA: [Config] nvidia-6.8: Update annotations for Grace I/O virtualization
    - net/mlx5: Add IFC related stuff for data direct
    - RDMA/mlx5: Introduce the 'data direct' driver
    - RDMA/mlx5: Add the initialization flow to utilize the 'data direct' device
    - RDMA/umem: Add support for creating pinned DMABUF umem with a given dma
      device
    - RDMA/umem: Introduce an option to revoke DMABUF umem
    - RDMA: Pass uverbs_attr_bundle as part of '.reg_user_mr_dmabuf' API
    - RDMA/mlx5: Add support for DMABUF MR registrations with Data-direct
    - RDMA/mlx5: Introduce GET_DATA_DIRECT_SYSFS_PATH ioctl
    - NVIDIA: [Config] Annotations update
    - fixup

 -- Brad Figg <bfigg@nvidia.com>  Fri, 18 Oct 2024 19:00:17 -0700

linux-nvidia-adv (6.8.0-1002.2) noble; urgency=medium

  * NVIDIA: SAUCE: acpi/prmt: find block with specific type (LP: #2081874)
    - NVIDIA: SAUCE: acpi/prmt: find block with specific type

  * Pull-request to address ARM SMMU issue (LP: #2031320)
    - NVIDIA: SAUCE: iommu/arm-smmu-v3: Allow default substream bypass with a
      pasid support

  * Pull request: mm: fix old/young bit handling in the faulting path of
    set_pte_range() (LP: #2075396)
    - mm: fix old/young bit handling in the faulting path

  * Pull-request:Add a kernel command-line option 'config_acs' to directly
    control all the ACS bits for specific devices (LP: #2073811)
    - PCI: Extend ACS configurability

  * PR for:  "IB/mlx5: Use __iowrite64_copy() for write combining stores"
    (LP: #2071655)
    - x86: Stop using weak symbols for __iowrite32_copy()
    - s390: Implement __iowrite32_copy()
    - s390: Stop using weak symbols for __iowrite64_copy()
    - arm64/io: Provide a WC friendly __iowriteXX_copy()
    - net: hns3: Remove io_stop_wc() calls after __iowrite64_copy()

  * PR for:  "PCI: Clear Secondary Status errors after enumeration"
    (LP: #2071654)
    - PCI: Clear Secondary Status errors after enumeration

  * mlxbf_pmc: bring in latest 6.8 upstream commits (LP: #2069777)
    - platform/mellanox: mlxbf-pmc: Replace uintN_t with kernel-style types
    - platform/mellanox: mlxbf-pmc: Cleanup signed/unsigned mix-up
    - platform/mellanox: mlxbf-pmc: mlxbf_pmc_event_list(): make size ptr optional
    - platform/mellanox: mlxbf-pmc: Ignore unsupported performance blocks
    - platform/mellanox: mlxbf-pmc: fix signedness bugs

  * mlxbf_gige: bring in latest 6.x upstream commits (LP: #2068067)
    - mlxbf_gige: add support to display pause frame counters

  * Export kernel symbols required for NVIDIA GDS (LP: #2068544)
    - NVIDIA: SAUCE: NFS: Export nvfs register and unregister functions as GPL
    - NVIDIA: SAUCE: NVMe/NVMeoF: Export nvfs register and unregister functions as
      GPL

  * linux-nvidia-6.5_6.5.0-1014.14 breaks with earlier BIOS release, and
    modeset/resolutions are wrong (LP: #2061930) // Blacklist coresight_etm4x
    (LP: #2067106)
    - [Packaging] blacklist coresight_etm4x

  * backport arm64 THP improvements from 6.9 (LP: #2059316)
    - arm64/mm: make set_ptes() robust when OAs cross 48-bit boundary
    - arm/pgtable: define PFN_PTE_SHIFT
    - nios2/pgtable: define PFN_PTE_SHIFT
    - powerpc/pgtable: define PFN_PTE_SHIFT
    - riscv/pgtable: define PFN_PTE_SHIFT
    - s390/pgtable: define PFN_PTE_SHIFT
    - sparc/pgtable: define PFN_PTE_SHIFT
    - mm/pgtable: make pte_next_pfn() independent of set_ptes()
    - arm/mm: use pte_next_pfn() in set_ptes()
    - powerpc/mm: use pte_next_pfn() in set_ptes()
    - mm/memory: factor out copying the actual PTE in copy_present_pte()
    - mm/memory: pass PTE to copy_present_pte()
    - mm/memory: optimize fork() with PTE-mapped THP
    - mm/memory: ignore dirty/accessed/soft-dirty bits in folio_pte_batch()
    - mm/memory: ignore writable bit in folio_pte_batch()
    - mm: clarify the spec for set_ptes()
    - mm: thp: batch-collapse PMD with set_ptes()
    - mm: introduce pte_advance_pfn() and use for pte_next_pfn()
    - arm64/mm: convert pte_next_pfn() to pte_advance_pfn()
    - x86/mm: convert pte_next_pfn() to pte_advance_pfn()
    - mm: tidy up pte_next_pfn() definition
    - arm64/mm: convert READ_ONCE(*ptep) to ptep_get(ptep)
    - arm64/mm: convert set_pte_at() to set_ptes(..., 1)
    - arm64/mm: convert ptep_clear() to ptep_get_and_clear()
    - arm64/mm: new ptep layer to manage contig bit
    - arm64/mm: dplit __flush_tlb_range() to elide trailing DSB
    - NVIDIA: [Config] arm64: ARM64_CONTPTE=y
    - arm64/mm: wire up PTE_CONT for user mappings
    - arm64/mm: implement new wrprotect_ptes() batch API
    - arm64/mm: implement new [get_and_]clear_full_ptes() batch APIs
    - mm: add pte_batch_hint() to reduce scanning in folio_pte_batch()
    - arm64/mm: implement pte_batch_hint()
    - arm64/mm: __always_inline to improve fork() perf
    - arm64/mm: automatically fold contpte mappings
    - arm64/mm: export contpte symbols only to GPL users
    - arm64/mm: improve comment in contpte_ptep_get_lockless()

  * Enable GDS in the 6.8 based linux-nvidia kernel (LP: #2059814)
    - NVIDIA: SAUCE: Patch NFS driver to support GDS with 6.8 Kernel
    - NVIDIA: SAUCE: NVMe/MVMEeOF: Patch NVMe/NVMeOF driver to support GDS on
      Linux 6.8 Kernel

 -- Brad Figg <bfigg@nvidia.com>  Tue, 01 Oct 2024 14:57:25 -0700

linux-nvidia-adv (6.8.0-1001.1) noble; urgency=medium

  [ Ubuntu: 6.8.0-45.45 ]

  * noble/linux: 6.8.0-45.45 -proposed tracker (LP: #2078100)
  * Packaging resync (LP: #1786013)
    - [Packaging] debian.master/dkms-versions -- update from kernel-versions
      (main/s2024.08.05)
  * Noble update: upstream stable patchset 2024-08-09 (LP: #2076435) //
    CVE-2024-41009
    - bpf: Fix overrunning reservations in ringbuf
  * CVE-2024-42160
    - f2fs: check validation of fault attrs in f2fs_build_fault_attr()
    - f2fs: Add inline to f2fs_build_fault_attr() stub
  * Noble update: upstream stable patchset 2024-08-22 (LP: #2077600) //
    CVE-2024-42224
    - net: dsa: mv88e6xxx: Correct check for empty list
  * Noble update: upstream stable patchset 2024-08-22 (LP: #2077600) //
    CVE-2024-42154
    - tcp_metrics: validate source addr length
  * CVE-2024-42228
    - drm/amdgpu: Using uninitialized value *size when calling amdgpu_vce_cs_reloc
  * CVE-2024-42159
    - scsi: mpi3mr: Sanitise num_phys

 -- Jacob Martin <jacob.martin@canonical.com>  Fri, 27 Sep 2024 12:22:43 -0500

linux-nvidia-adv (6.8.0-1000.0) noble; urgency=medium

  * Initialize n/linux-nvidia-adv.

 -- Jacob Martin <jacob.martin@canonical.com>  Thu, 26 Sep 2024 13:41:25 -0500

linux (6.8.0-44.44) noble; urgency=medium

  * noble/linux: 6.8.0-44.44 -proposed tracker (LP: #2076647)

  * Packaging resync (LP: #1786013)
    - [Packaging] debian.master/dkms-versions -- update from kernel-versions
      (main/2024.08.05)

  * Disable PCI_DYNAMIC_OF_NODES in Ubuntu (LP: #2074376)
    - [Config] Disable PCI_DYNAMIC_OF_NODES

  * [SRU] Turbostat support for Arrow Lake H (LP: #2074372)
    - tools/power turbostat: Enhance ARL/LNL support
    - x86/cpu: Add model number for another Intel Arrow Lake mobile processor
    - tools/power turbostat: Add ARL-H support

  * Noble update: upstream stable patchset 2024-07-30 (LP: #2075154)
    - fs/writeback: bail out if there is no more inodes for IO and queued once
    - padata: Disable BH when taking works lock on MT path
    - crypto: hisilicon/sec - Fix memory leak for sec resource release
    - crypto: hisilicon/qm - Add the err memory release process to qm uninit
    - io_uring/sqpoll: work around a potential audit memory leak
    - rcutorture: Fix rcu_torture_one_read() pipe_count overflow comment
    - rcutorture: Make stall-tasks directly exit when rcutorture tests end
    - rcutorture: Fix invalid context warning when enable srcu barrier testing
    - block/ioctl: prefer different overflow check
    - ssb: Fix potential NULL pointer dereference in ssb_device_uevent()
    - selftests/bpf: Prevent client connect before server bind in
      test_tc_tunnel.sh
    - selftests/bpf: Fix flaky test btf_map_in_map/lookup_update
    - batman-adv: bypass empty buckets in batadv_purge_orig_ref()
    - wifi: ath9k: work around memset overflow warning
    - af_packet: avoid a false positive warning in packet_setsockopt()
    - ACPI: x86: Add PNP_UART1_SKIP quirk for Lenovo Blade2 tablets
    - drop_monitor: replace spin_lock by raw_spin_lock
    - scsi: qedi: Fix crash while reading debugfs attribute
    - net: sfp: add quirk for ATS SFP-GE-T 1000Base-TX module
    - net/sched: fix false lockdep warning on qdisc root lock
    - kselftest: arm64: Add a null pointer check
    - net: dsa: realtek: keep default LED state in rtl8366rb
    - netpoll: Fix race condition in netpoll_owner_active
    - wifi: mt76: mt7921s: fix potential hung tasks during chip recovery
    - HID: Add quirk for Logitech Casa touchpad
    - HID: asus: fix more n-key report descriptors if n-key quirked
    - ACPI: video: Add backlight=native quirk for Lenovo Slim 7 16ARH7
    - Bluetooth: ath3k: Fix multiple issues reported by checkpatch.pl
    - drm/amd/display: Exit idle optimizations before HDCP execution
    - platform/x86: toshiba_acpi: Add quirk for buttons on Z830
    - ASoC: Intel: sof_sdw: add JD2 quirk for HP Omen 14
    - ASoC: Intel: sof_sdw: add quirk for Dell SKU 0C0F
    - drm/lima: add mask irq callback to gp and pp
    - drm/lima: mask irqs in timeout path before hard reset
    - ALSA: hda/realtek: Add quirks for Lenovo 13X
    - powerpc/pseries: Enforce hcall result buffer validity and size
    - media: intel/ipu6: Fix build with !ACPI
    - media: mtk-vcodec: potential null pointer deference in SCP
    - powerpc/io: Avoid clang null pointer arithmetic warnings
    - platform/x86: p2sb: Don't init until unassigned resources have been assigned
    - power: supply: cros_usbpd: provide ID table for avoiding fallback match
    - iommu/arm-smmu-v3: Free MSIs in case of ENOMEM
    - ext4: fix uninitialized ratelimit_state->lock access in __ext4_fill_super()
    - kprobe/ftrace: bail out if ftrace was killed
    - usb: gadget: uvc: configfs: ensure guid to be valid before set
    - f2fs: remove clear SB_INLINECRYPT flag in default_options
    - usb: misc: uss720: check for incompatible versions of the Belkin F5U002
    - Avoid hw_desc array overrun in dw-axi-dmac
    - usb: dwc3: pci: Don't set "linux,phy_charger_detect" property on Lenovo Yoga
      Tab2 1380
    - usb: typec: ucsi_glink: drop special handling for CCI_BUSY
    - udf: udftime: prevent overflow in udf_disk_stamp_to_time()
    - PCI/PM: Avoid D3cold for HP Pavilion 17 PC/1972 PCIe Ports
    - f2fs: don't set RO when shutting down f2fs
    - MIPS: Octeon: Add PCIe link status check
    - serial: imx: Introduce timeout when waiting on transmitter empty
    - serial: exar: adding missing CTI and Exar PCI ids
    - usb: gadget: function: Remove usage of the deprecated ida_simple_xx() API
    - tty: add the option to have a tty reject a new ldisc
    - vfio/pci: Collect hot-reset devices to local buffer
    - cpufreq: amd-pstate: fix memory leak on CPU EPP exit
    - ACPI: EC: Install address space handler at the namespace root
    - PCI: Do not wait for disconnected devices when resuming
    - ALSA: hda: cs35l41: Possible null pointer dereference in
      cs35l41_hda_unbind()
    - ALSA: seq: ump: Fix missing System Reset message handling
    - MIPS: Routerboard 532: Fix vendor retry check code
    - mips: bmips: BCM6358: make sure CBR is correctly set
    - tracing: Build event generation tests only as modules
    - ALSA: hda/realtek: Remove Framework Laptop 16 from quirks
    - ALSA/hda: intel-dsp-config: Document AVS as dsp_driver option
    - ice: avoid IRQ collision to fix init failure on ACPI S3 resume
    - btrfs: zoned: allocate dummy checksums for zoned NODATASUM writes
    - net: mvpp2: use slab_build_skb for oversized frames
    - cipso: fix total option length computation
    - ALSA: hda: cs35l56: Component should be unbound before deconstruction
    - ALSA: hda: tas2781: Component should be unbound before deconstruction
    - bpf: Avoid splat in pskb_pull_reason
    - ALSA: hda/realtek: Enable headset mic on IdeaPad 330-17IKB 81DM
    - netrom: Fix a memory leak in nr_heartbeat_expiry()
    - ipv6: prevent possible NULL deref in fib6_nh_init()
    - ipv6: prevent possible NULL dereference in rt6_probe()
    - xfrm6: check ip6_dst_idev() return value in xfrm6_get_saddr()
    - netns: Make get_net_ns() handle zero refcount net
    - qca_spi: Make interrupt remembering atomic
    - net: lan743x: disable WOL upon resume to restore full data path operation
    - net: lan743x: Support WOL at both the PHY and MAC appropriately
    - net: phy: mxl-gpy: Remove interrupt mask clearing from config_init
    - net/sched: act_api: fix possible infinite loop in tcf_idr_check_alloc()
    - tipc: force a dst refcount before doing decryption
    - sched: act_ct: add netns into the key of tcf_ct_flow_table
    - ptp: fix integer overflow in max_vclocks_store
    - selftests: openvswitch: Use bash as interpreter
    - net: stmmac: No need to calculate speed divider when offload is disabled
    - virtio_net: checksum offloading handling fix
    - virtio_net: fixing XDP for fully checksummed packets handling
    - octeontx2-pf: Add error handling to VLAN unoffload handling
    - octeontx2-pf: Fix linking objects into multiple modules
    - netfilter: ipset: Fix suspicious rcu_dereference_protected()
    - seg6: fix parameter passing when calling NF_HOOK() in End.DX4 and End.DX6
      behaviors
    - netfilter: move the sysctl nf_hooks_lwtunnel into the netfilter core
    - ice: Fix VSI list rule with ICE_SW_LKUP_LAST type
    - bnxt_en: Restore PTP tx_avail count in case of skb_pad() error
    - net: usb: rtl8150 fix unintiatilzed variables in rtl8150_get_link_ksettings
    - RDMA/bnxt_re: Fix the max msix vectors macro
    - spi: cs42l43: Correct SPI root clock speed
    - RDMA/rxe: Fix responder length checking for UD request packets
    - regulator: core: Fix modpost error "regulator_get_regmap" undefined
    - dmaengine: idxd: Fix possible Use-After-Free in irq_process_work_list
    - dmaengine: ioatdma: Fix leaking on version mismatch
    - dmaengine: ioatdma: Fix error path in ioat3_dma_probe()
    - dmaengine: ioatdma: Fix kmemleak in ioat_pci_probe()
    - dmaengine: fsl-edma: avoid linking both modules
    - dmaengine: ioatdma: Fix missing kmem_cache_destroy()
    - regulator: bd71815: fix ramp values
    - thermal/drivers/mediatek/lvts_thermal: Return error in case of invalid efuse
      data
    - arm64: dts: imx8mp: Fix TC9595 input clock on DH i.MX8M Plus DHCOM SoM
    - arm64: dts: freescale: imx8mp-venice-gw73xx-2x: fix BT shutdown GPIO
    - arm64: dts: imx93-11x11-evk: Remove the 'no-sdio' property
    - arm64: dts: freescale: imx8mm-verdin: enable hysteresis on slow input pin
    - ACPICA: Revert "ACPICA: avoid Info: mapping multiple BARs. Your kernel is
      fine."
    - spi: spi-imx: imx51: revert burst length calculation back to bits_per_word
    - io_uring/rsrc: fix incorrect assignment of iter->nr_segs in io_import_fixed
    - firmware: psci: Fix return value from psci_system_suspend()
    - RDMA/mlx5: Fix unwind flow as part of mlx5_ib_stage_init_init
    - RDMA/mlx5: Add check for srq max_sge attribute
    - RDMA/mana_ib: Ignore optional access flags for MRs
    - ACPI: EC: Evaluate orphan _REG under EC device
    - arm64: defconfig: enable the vf610 gpio driver
    - ext4: avoid overflow when setting values via sysfs
    - ext4: fix slab-out-of-bounds in ext4_mb_find_good_group_avg_frag_lists()
    - net: stmmac: Assign configured channel value to EXTTS event
    - net: usb: ax88179_178a: improve reset check
    - net: do not leave a dangling sk pointer, when socket creation fails
    - btrfs: retry block group reclaim without infinite loop
    - scsi: ufs: core: Free memory allocated for model before reinit
    - cifs: fix typo in module parameter enable_gcm_256
    - LoongArch: Fix watchpoint setting error
    - LoongArch: Trigger user-space watchpoints correctly
    - LoongArch: Fix multiple hardware watchpoint issues
    - KVM: Fix a data race on last_boosted_vcpu in kvm_vcpu_on_spin()
    - KVM: arm64: Disassociate vcpus from redistributor region on teardown
    - KVM: x86: Always sync PIR to IRR prior to scanning I/O APIC routes
    - RDMA/rxe: Fix data copy for IB_SEND_INLINE
    - RDMA/mlx5: Remove extra unlock on error path
    - RDMA/mlx5: Follow rb_key.ats when creating new mkeys
    - ovl: fix encoding fid for lower only root
    - ALSA: hda/realtek: Limit mic boost on N14AP7
    - ALSA: hda/realtek: Add quirk for Lenovo Yoga Pro 7 14AHP9
    - drm/i915/mso: using joiner is not possible with eDP MSO
    - drm/radeon: fix UBSAN warning in kv_dpm.c
    - drm/amdgpu: fix UBSAN warning in kv_dpm.c
    - dt-bindings: dma: fsl-edma: fix dma-channels constraints
    - ocfs2: fix NULL pointer dereference in ocfs2_journal_dirty()
    - ocfs2: fix NULL pointer dereference in ocfs2_abort_trigger()
    - gcov: add support for GCC 14
    - kcov: don't lose track of remote references during softirqs
    - efi/x86: Free EFI memory map only when installing a new one.
    - serial: 8250_dw: Revert "Move definitions to the shared header"
    - mm: mmap: allow for the maximum number of bits for randomizing mmap_base by
      default
    - tcp: clear tp->retrans_stamp in tcp_rcv_fastopen_synack()
    - mm/page_table_check: fix crash on ZONE_DEVICE
    - i2c: ocores: set IACK bit after core is enabled
    - dt-bindings: i2c: atmel,at91sam: correct path to i2c-controller schema
    - dt-bindings: i2c: google,cros-ec-i2c-tunnel: correct path to i2c-controller
      schema
    - spi: stm32: qspi: Fix dual flash mode sanity test in stm32_qspi_setup()
    - arm64: dts: imx8qm-mek: fix gpio number for reg_usdhc2_vmmc
    - spi: stm32: qspi: Clamp stm32_qspi_get_mode() output to CCR_BUSWIDTH_4
    - perf: script: add raw|disasm arguments to --insn-trace option
    - nbd: Improve the documentation of the locking assumptions
    - nbd: Fix signal handling
    - tracing: Add MODULE_DESCRIPTION() to preemptirq_delay_test
    - x86/cpu/vfm: Add new macros to work with (vendor/family/model) values
    - x86/cpu: Fix x86_match_cpu() to match just X86_VENDOR_INTEL
    - drm/amd/display: revert Exit idle optimizations before HDCP execution
    - ASoC: Intel: sof-sdw: really remove FOUR_SPEAKER quirk
    - net/sched: unregister lockdep keys in qdisc_create/qdisc_alloc error path
    - kprobe/ftrace: fix build error due to bad function definition
    - hid: asus: asus_report_fixup: fix potential read out of bounds
    - Revert "mm: mmap: allow for the maximum number of bits for randomizing
      mmap_base by default"
    - platform/chrome: cros_usbpd_logger: provide ID table for avoiding fallback
      match
    - platform/chrome: cros_usbpd_notify: provide ID table for avoiding fallback
      match
    - ubsan: Avoid i386 UBSAN handler crashes with Clang
    - arm64: defconfig: select INTERCONNECT_QCOM_SM6115 as built-in
    - bpf: Avoid kfree_rcu() under lock in bpf_lpm_trie.
    - devlink: use kvzalloc() to allocate devlink instance resources
    - wifi: rtw89: 8852c: add quirk to set PCI BER for certain platforms
    - clocksource: Make watchdog and suspend-timing multiplication overflow safe
    - ACPI: resource: Do IRQ override on GMxBGxx (XMG APEX 17 M23)
    - wifi: ath12k: add string type to search board data in board-2.bin for
      WCN7850
    - wifi: ath12k: add firmware-2.bin support
    - wifi: ath12k: fix kernel crash during resume
    - arm64/sysreg: Update PIE permission encodings
    - ACPI: resource: Skip IRQ override on Asus Vivobook Pro N6506MV
    - wifi: ath12k: fix the problem that down grade phy mode operation
    - bpf: avoid uninitialized warnings in verifier_global_subprogs.c
    - selftests: net: fix timestamp not arriving in cmsg_time.sh
    - net: ena: Add validation for completion descriptors consistency
    - drm/amd/display: Workaround register access in idle race with cursor
    - cgroup/cpuset: Make cpuset hotplug processing synchronous
    - platform/x86: x86-android-tablets: Unregister devices in reverse order
    - platform/x86: x86-android-tablets: Add Lenovo Yoga Tablet 2 Pro 1380F/L data
    - ALSA: hda/realtek: Add quirks for HP Omen models using CS35L41
    - ext4: fold quota accounting into ext4_xattr_inode_lookup_create()
    - ext4: do not create EA inode under buffer lock
    - f2fs: fix to detect inconsistent nat entry during truncation
    - usb: typec: ucsi_glink: rework quirks implementation
    - xhci: remove XHCI_TRUST_TX_LENGTH quirk
    - clk: Add a devm variant of clk_rate_exclusive_get()
    - clk: Provide !COMMON_CLK dummy for devm_clk_rate_exclusive_get()
    - i2c: lpi2c: Avoid calling clk_get_rate during transfer
    - cxl: Add post-reset warning if reset results in loss of previously committed
      HDM decoders
    - OPP: Fix required_opp_tables for multiple genpds using same table
    - wifi: iwlwifi: mvm: fix ROC version check
    - wifi: mac80211: Recalc offload when monitor stop
    - ice: fix 200G link speed message log
    - ice: implement AQ download pkg retry
    - bpf: Fix reg_set_min_max corruption of fake_reg
    - ALSA: hda: cs35l41: Component should be unbound before deconstruction
    - netdev-genl: fix error codes when outputting XDP features
    - arm64: dts: freescale: imx8mm-verdin: Fix GPU speed
    - phy: qcom-qmp: qserdes-txrx: Add missing registers offsets
    - phy: qcom-qmp: pcs: Add missing v6 N4 register offsets
    - phy: qcom: qmp-combo: Switch from V6 to V6 N4 register offsets
    - powerpc/crypto: Add generated P8 asm to .gitignore
    - spi: Exctract spi_dev_check_cs() helper
    - spi: Fix SPI slave probe failure
    - net: phy: dp83tg720: wake up PHYs in managed mode
    - net: phy: dp83tg720: get master/slave configuration in link down state
    - RDMA/mlx5: Ensure created mkeys always have a populated rb_key
    - drm/amdgpu: fix locking scope when flushing tlb
    - drm/amd/display: Remove redundant idle optimization check
    - drm/amd/display: Attempt to avoid empty TUs when endpoint is DPIA
    - ata: ahci: Do not enable LPM if no LPM states are supported by the HBA
    - dmaengine: xilinx: xdma: Fix data synchronisation in xdma_channel_isr()
    - net/tcp_ao: Don't leak ao_info on error-path
    - mm: shmem: fix getting incorrect lruvec when replacing a shmem folio
    - selftests: mptcp: print_test out of verify_listener_events
    - selftests: mptcp: userspace_pm: fixed subtest names
    - ima: Avoid blocking in RCU read-side critical section
    - virt: guest_memfd: fix reference leak on hwpoisoned page
    - thermal: int340x: processor_thermal: Support shared interrupts
    - thermal: core: Change PM notifier priority to the minimum
    - wifi: ath12k: check M3 buffer size as well whey trying to reuse it
    - Upstream stable to v6.6.36, v6.9.7

  * [SRU] Add Dynamic Tuning Technology (DTT)  support for Lunar Lake
    (LP: #2073961)
    - thermal: int340x: processor_thermal: Add Lunar Lake-M PCI ID

  * Kubuntu 24.04 freezes after plugging in ethernet cable (LP: #2073358)
    - e1000e: move force SMBUS near the end of enable_ulp function
    - e1000e: fix force smbus during suspend flow

  * Noble update: upstream stable patchset 2024-07-25 (LP: #2074091)
    - wifi: mac80211: mesh: Fix leak of mesh_preq_queue objects
    - wifi: mac80211: Fix deadlock in ieee80211_sta_ps_deliver_wakeup()
    - wifi: cfg80211: fully move wiphy work to unbound workqueue
    - wifi: cfg80211: Lock wiphy in cfg80211_get_station
    - wifi: cfg80211: pmsr: use correct nla_get_uX functions
    - wifi: iwlwifi: mvm: don't initialize csa_work twice
    - wifi: iwlwifi: mvm: revert gen2 TX A-MPDU size to 64
    - wifi: iwlwifi: mvm: set properly mac header
    - wifi: iwlwifi: dbg_ini: move iwl_dbg_tlv_free outside of debugfs ifdef
    - wifi: iwlwifi: mvm: check n_ssids before accessing the ssids
    - wifi: iwlwifi: mvm: don't read past the mfuart notifcation
    - wifi: mac80211: correctly parse Spatial Reuse Parameter Set element
    - scsi: ufs: mcq: Fix error output and clean up ufshcd_mcq_abort()
    - RISC-V: KVM: No need to use mask when hart-index-bit is 0
    - RISC-V: KVM: Fix incorrect reg_subtype labels in
      kvm_riscv_vcpu_set_reg_isa_ext function
    - ax25: Fix refcount imbalance on inbound connections
    - ax25: Replace kfree() in ax25_dev_free() with ax25_dev_put()
    - net/ncsi: Fix the multi thread manner of NCSI driver
    - net: phy: micrel: fix KSZ9477 PHY issues after suspend/resume
    - bpf: Fix a potential use-after-free in bpf_link_free()
    - KVM: SEV-ES: Disallow SEV-ES guests when X86_FEATURE_LBRV is absent
    - KVM: SEV-ES: Delegate LBR virtualization to the processor
    - vmxnet3: disable rx data ring on dma allocation failure
    - ipv6: ioam: block BH from ioam6_output()
    - ipv6: sr: block BH in seg6_output_core() and seg6_input_core()
    - net: tls: fix marking packets as decrypted
    - bpf: Set run context for rawtp test_run callback
    - octeontx2-af: Always allocate PF entries from low prioriy zone
    - net/smc: avoid overwriting when adjusting sock bufsizes
    - net: phy: Micrel KSZ8061: fix errata solution not taking effect problem
    - net: sched: sch_multiq: fix possible OOB write in multiq_tune()
    - vxlan: Fix regression when dropping packets due to invalid src addresses
    - tcp: count CLOSE-WAIT sockets for TCP_MIB_CURRESTAB
    - mptcp: count CLOSE-WAIT sockets for MPTCP_MIB_CURRESTAB
    - net/mlx5: Stop waiting for PCI if pci channel is offline
    - net/mlx5: Always stop health timer during driver removal
    - net/mlx5: Fix tainted pointer delete is case of flow rules creation fail
    - net/sched: taprio: always validate TCA_TAPRIO_ATTR_PRIOMAP
    - ptp: Fix error message on failed pin verification
    - ice: fix iteration of TLVs in Preserved Fields Area
    - ice: remove af_xdp_zc_qps bitmap
    - ice: add flag to distinguish reset from .ndo_bpf in XDP rings config
    - net: wwan: iosm: Fix tainted pointer delete is case of region creation fail
    - af_unix: Set sk->sk_state under unix_state_lock() for truly disconencted
      peer.
    - af_unix: Annodate data-races around sk->sk_state for writers.
    - af_unix: Annotate data-race of sk->sk_state in unix_inq_len().
    - af_unix: Annotate data-races around sk->sk_state in unix_write_space() and
      poll().
    - af_unix: Annotate data-race of sk->sk_state in unix_stream_connect().
    - af_unix: Annotate data-races around sk->sk_state in sendmsg() and recvmsg().
    - af_unix: Annotate data-race of sk->sk_state in unix_stream_read_skb().
    - af_unix: Annotate data-races around sk->sk_state in UNIX_DIAG.
    - af_unix: Annotate data-races around sk->sk_sndbuf.
    - af_unix: Annotate data-race of net->unx.sysctl_max_dgram_qlen.
    - af_unix: Use unix_recvq_full_lockless() in unix_stream_connect().
    - af_unix: Use skb_queue_empty_lockless() in unix_release_sock().
    - af_unix: Use skb_queue_len_lockless() in sk_diag_show_rqlen().
    - af_unix: Annotate data-race of sk->sk_shutdown in sk_diag_fill().
    - ipv6: fix possible race in __fib6_drop_pcpu_from()
    - net: ethtool: fix the error condition in ethtool_get_phy_stats_ethtool()
    - selftests/mm: log a consistent test name for check_compaction
    - irqchip/riscv-intc: Allow large non-standard interrupt number
    - irqchip/riscv-intc: Introduce Andes hart-level interrupt controller
    - eventfs: Update all the eventfs_inodes from the events descriptor
    - io_uring/rsrc: don't lock while !TASK_RUNNING
    - io_uring: check for non-NULL file pointer in io_file_can_poll()
    - USB: class: cdc-wdm: Fix CPU lockup caused by excessive log messages
    - USB: xen-hcd: Traverse host/ when CONFIG_USB_XEN_HCD is selected
    - usb: typec: tcpm: fix use-after-free case in tcpm_register_source_caps
    - usb: typec: tcpm: Ignore received Hard Reset in TOGGLING state
    - mei: me: release irq in mei_me_pci_resume error path
    - tty: n_tty: Fix buffer offsets when lookahead is used
    - serial: port: Don't block system suspend even if bytes are left to xmit
    - landlock: Fix d_parent walk
    - jfs: xattr: fix buffer overflow for invalid xattr
    - xhci: Set correct transferred length for cancelled bulk transfers
    - xhci: Apply reset resume quirk to Etron EJ188 xHCI host
    - xhci: Handle TD clearing for multiple streams case
    - xhci: Apply broken streams quirk to Etron EJ188 xHCI host
    - thunderbolt: debugfs: Fix margin debugfs node creation condition
    - scsi: core: Disable CDL by default
    - scsi: mpi3mr: Fix ATA NCQ priority support
    - scsi: mpt3sas: Avoid test/set_bit() operating in non-allocated memory
    - scsi: sd: Use READ(16) when reading block zero on large capacity disks
    - gve: Clear napi->skb before dev_kfree_skb_any()
    - powerpc/uaccess: Fix build errors seen with GCC 13/14
    - HID: nvidia-shield: Add missing check for input_ff_create_memless
    - cxl/test: Add missing vmalloc.h for tools/testing/cxl/test/mem.c
    - cxl/region: Fix memregion leaks in devm_cxl_add_region()
    - cachefiles: add output string to cachefiles_obj_[get|put]_ondemand_fd
    - cachefiles: remove requests from xarray during flushing requests
    - cachefiles: add spin_lock for cachefiles_ondemand_info
    - cachefiles: fix slab-use-after-free in cachefiles_ondemand_get_fd()
    - cachefiles: fix slab-use-after-free in cachefiles_ondemand_daemon_read()
    - cachefiles: remove err_put_fd label in cachefiles_ondemand_daemon_read()
    - cachefiles: never get a new anonymous fd if ondemand_id is valid
    - cachefiles: defer exposing anon_fd until after copy_to_user() succeeds
    - cachefiles: flush all requests after setting CACHEFILES_DEAD
    - selftests/ftrace: Fix to check required event file
    - clk: sifive: Do not register clkdevs for PRCI clocks
    - NFSv4.1 enforce rootpath check in fs_location query
    - SUNRPC: return proper error from gss_wrap_req_priv
    - NFS: add barriers when testing for NFS_FSDATA_BLOCKED
    - selftests/tracing: Fix event filter test to retry up to 10 times
    - nvme: fix nvme_pr_* status code parsing
    - drm/panel: sitronix-st7789v: Add check for of_drm_get_panel_orientation
    - platform/x86: dell-smbios: Fix wrong token data in sysfs
    - gpio: tqmx86: fix typo in Kconfig label
    - gpio: tqmx86: introduce shadow register for GPIO output value
    - gpio: tqmx86: store IRQ trigger type and unmask status separately
    - gpio: tqmx86: fix broken IRQ_TYPE_EDGE_BOTH interrupt type
    - HID: core: remove unnecessary WARN_ON() in implement()
    - iommu/amd: Fix sysfs leak in iommu init
    - iommu: Return right value in iommu_sva_bind_device()
    - io_uring/io-wq: Use set_bit() and test_bit() at worker->flags
    - io_uring/io-wq: avoid garbage value of 'match' in io_wq_enqueue()
    - HID: logitech-dj: Fix memory leak in logi_dj_recv_switch_to_dj_mode()
    - drm/vmwgfx: Refactor drm connector probing for display modes
    - drm/vmwgfx: Filter modes which exceed graphics memory
    - drm/vmwgfx: 3D disabled should not effect STDU memory limits
    - drm/vmwgfx: Remove STDU logic from generic mode_valid function
    - drm/vmwgfx: Don't memcmp equivalent pointers
    - af_unix: Annotate data-race of sk->sk_state in unix_accept().
    - modpost: do not warn about missing MODULE_DESCRIPTION() for vmlinux.o
    - net: sfp: Always call `sfp_sm_mod_remove()` on remove
    - net: hns3: fix kernel crash problem in concurrent scenario
    - net: hns3: add cond_resched() to hns3 ring buffer init process
    - liquidio: Adjust a NULL pointer handling path in lio_vf_rep_copy_packet
    - net: stmmac: dwmac-qcom-ethqos: Configure host DMA width
    - drm/komeda: check for error-valued pointer
    - drm/bridge/panel: Fix runtime warning on panel bridge release
    - tcp: fix race in tcp_v6_syn_recv_sock()
    - net dsa: qca8k: fix usages of device_get_named_child_node()
    - geneve: Fix incorrect inner network header offset when innerprotoinherit is
      set
    - net/mlx5e: Fix features validation check for tunneled UDP (non-VXLAN)
      packets
    - Bluetooth: fix connection setup in l2cap_connect
    - netfilter: nft_inner: validate mandatory meta and payload
    - netfilter: ipset: Fix race between namespace cleanup and gc in the list:set
      type
    - x86/asm: Use %c/%n instead of %P operand modifier in asm templates
    - x86/uaccess: Fix missed zeroing of ia32 u64 get_user() range checking
    - scsi: ufs: core: Quiesce request queues before checking pending cmds
    - net: pse-pd: Use EOPNOTSUPP error code instead of ENOTSUPP
    - gve: ignore nonrelevant GSO type bits when processing TSO headers
    - net: stmmac: replace priv->speed with the portTransmitRate from the tc-cbs
      parameters
    - block: sed-opal: avoid possible wrong address reference in
      read_sed_opal_key()
    - block: fix request.queuelist usage in flush
    - nvmet-passthru: propagate status from id override functions
    - net/ipv6: Fix the RT cache flush via sysctl using a previous delay
    - net: bridge: mst: pass vlan group directly to br_mst_vlan_set_state
    - net: bridge: mst: fix suspicious rcu usage in br_mst_set_state
    - ionic: fix use after netif_napi_del()
    - af_unix: Read with MSG_PEEK loops if the first unread byte is OOB
    - bnxt_en: Adjust logging of firmware messages in case of released token in
      __hwrm_send()
    - misc: microchip: pci1xxxx: fix double free in the error handling of
      gp_aux_bus_probe()
    - ksmbd: move leading slash check to smb2_get_name()
    - ksmbd: fix missing use of get_write in in smb2_set_ea()
    - x86/boot: Don't add the EFI stub to targets, again
    - iio: adc: ad9467: fix scan type sign
    - iio: dac: ad5592r: fix temperature channel scaling value
    - iio: invensense: fix odr switching to same value
    - iio: imu: inv_icm42600: delete unneeded update watermark call
    - drivers: core: synchronize really_probe() and dev_uevent()
    - parisc: Try to fix random segmentation faults in package builds
    - ACPI: x86: Force StorageD3Enable on more products
    - drm/exynos/vidi: fix memory leak in .get_modes()
    - drm/exynos: hdmi: report safe 640x480 mode as a fallback when no EDID found
    - mptcp: ensure snd_una is properly initialized on connect
    - mptcp: pm: inc RmAddr MIB counter once per RM_ADDR ID
    - mptcp: pm: update add_addr counters after connect
    - clkdev: Update clkdev id usage to allow for longer names
    - irqchip/gic-v3-its: Fix potential race condition in its_vlpi_prop_update()
    - x86/kexec: Fix bug with call depth tracking
    - x86/amd_nb: Check for invalid SMN reads
    - perf/core: Fix missing wakeup when waiting for context reference
    - perf auxtrace: Fix multiple use of --itrace option
    - riscv: fix overlap of allocated page and PTR_ERR
    - tracing/selftests: Fix kprobe event name test for .isra. functions
    - kheaders: explicitly define file modes for archived headers
    - null_blk: Print correct max open zones limit in null_init_zoned_dev()
    - sock_map: avoid race between sock_map_close and sk_psock_put
    - dma-buf: handle testing kthreads creation failure
    - vmci: prevent speculation leaks by sanitizing event in event_deliver()
    - spmi: hisi-spmi-controller: Do not override device identifier
    - knfsd: LOOKUP can return an illegal error value
    - fs/proc: fix softlockup in __read_vmcore
    - ocfs2: use coarse time for new created files
    - ocfs2: fix races between hole punching and AIO+DIO
    - PCI: rockchip-ep: Remove wrong mask on subsys_vendor_id
    - dmaengine: axi-dmac: fix possible race in remove()
    - remoteproc: k3-r5: Wait for core0 power-up before powering up core1
    - remoteproc: k3-r5: Do not allow core1 to power up before core0 via sysfs
    - iio: adc: axi-adc: make sure AXI clock is enabled
    - iio: invensense: fix interrupt timestamp alignment
    - riscv: rewrite __kernel_map_pages() to fix sleeping in invalid context
    - rtla/timerlat: Simplify "no value" printing on top
    - rtla/auto-analysis: Replace \t with spaces
    - drm/i915/gt: Disarm breadcrumbs if engines are already idle
    - drm/shmem-helper: Fix BUG_ON() on mmap(PROT_WRITE, MAP_PRIVATE)
    - drm/i915/dpt: Make DPT object unshrinkable
    - drm/i915: Fix audio component initialization
    - intel_th: pci: Add Meteor Lake-S support
    - pmdomain: ti-sci: Fix duplicate PD referrals
    - btrfs: zoned: fix use-after-free due to race with dev replace
    - xfs: fix imprecise logic in xchk_btree_check_block_owner
    - xfs: fix scrub stats file permissions
    - xfs: fix SEEK_HOLE/DATA for regions with active COW extents
    - xfs: shrink failure needs to hold AGI buffer
    - xfs: ensure submit buffers on LSN boundaries in error handlers
    - xfs: allow sunit mount option to repair bad primary sb stripe values
    - xfs: don't use current->journal_info
    - xfs: allow cross-linking special files without project quota
    - swiotlb: Enforce page alignment in swiotlb_alloc()
    - swiotlb: Reinstate page-alignment for mappings >= PAGE_SIZE
    - swiotlb: extend buffer pre-padding to alloc_align_mask if necessary
    - tick/nohz_full: Don't abuse smp_call_function_single() in
      tick_setup_device()
    - mm/huge_memory: don't unpoison huge_zero_folio
    - serial: 8250_pxa: Configure tx_loadsz to match FIFO IRQ level
    - Revert "fork: defer linking file vma until vma is fully initialized"
    - remoteproc: k3-r5: Jump to error handling labels in start/stop errors
    - greybus: Fix use-after-free bug in gb_interface_release due to race
      condition.
    - ima: Fix use-after-free on a dentry's dname.name
    - serial: core: Add UPIO_UNKNOWN constant for unknown port type
    - serial: port: Introduce a common helper to read properties
    - serial: 8250_dw: Switch to use uart_read_port_properties()
    - serial: 8250_dw: Replace ACPI device check by a quirk
    - serial: 8250_dw: Don't use struct dw8250_data outside of 8250_dw
    - usb-storage: alauda: Check whether the media is initialized
    - misc: microchip: pci1xxxx: Fix a memory leak in the error handling of
      gp_aux_bus_probe()
    - i2c: at91: Fix the functionality flags of the slave-only interface
    - i2c: designware: Fix the functionality flags of the slave-only interface
    - zap_pid_ns_processes: clear TIF_NOTIFY_SIGNAL along with TIF_SIGPENDING
    - wifi: ath11k: fix WCN6750 firmware crash caused by 17 num_vdevs
    - cpufreq: amd-pstate: Unify computation of
      {max,min,nominal,lowest_nonlinear}_freq
    - cpufreq: amd-pstate: Add quirk for the pstate CPPC capabilities missing
    - cpufreq: amd-pstate: remove global header file
    - virtio_net: fix possible dim status unrecoverable
    - net: ethernet: mtk_eth_soc: handle dma buffer size soc specific
    - ice: fix reads from NVM Shadow RAM on E830 and E825-C devices
    - ice: map XDP queues to vectors in ice_vsi_map_rings_to_vectors()
    - x86/cpu: Get rid of an unnecessary local variable in get_cpu_address_sizes()
    - x86/cpu: Provide default cache line size if not enumerated
    - selftests/mm: ksft_exit functions do not return
    - selftests/mm: compaction_test: fix bogus test success and reduce probability
      of OOM-killer invocation
    - .editorconfig: remove trim_trailing_whitespace option
    - kcov, usb: disable interrupts in kcov_remote_start_usb_softirq
    - ata: libata-scsi: Set the RMB bit only for removable media devices
    - powerpc/85xx: fix compile error without CONFIG_CRASH_DUMP
    - kselftest/alsa: Ensure _GNU_SOURCE is defined
    - thermal: core: Do not fail cdev registration because of invalid initial
      state
    - Bluetooth: hci_sync: Fix not using correct handle
    - net/sched: initialize noop_qdisc owner
    - tcp: use signed arithmetic in tcp_rtx_probe0_timed_out()
    - drm/nouveau: don't attempt to schedule hpd_work on headless cards
    - drm/xe/xe_gt_idle: use GT forcewake domain assertion
    - drm/xe: flush engine buffers before signalling user fence on all engines
    - drm/xe: Remove mem_access from guc_pc calls
    - drm/xe: move disable_c6 call
    - bnxt_en: Cap the size of HWRM_PORT_PHY_QCFG forwarded response
    - iio: imu: bmi323: Fix trigger notification in case of error
    - iio: pressure: bmp280: Fix BMP580 temperature reading
    - iio: temperature: mlx90635: Fix ERR_PTR dereference in mlx90635_probe()
    - thermal: ACPI: Invalidate trip points with temperature of 0 or below
    - x86/mm/numa: Use NUMA_NO_NODE when calling memblock_set_node()
    - memblock: make memblock_set_node() also warn about use of MAX_NUMNODES
    - perf script: Show also errors for --insn-trace option
    - wifi: cfg80211: validate HE operation element parsing
    - wifi: rtlwifi: Ignore IEEE80211_CONF_CHANGE_RETRY_LIMITS
    - locking/atomic: scripts: fix ${atomic}_sub_and_test() kerneldoc
    - ata: ahci: Do not apply Intel PCS quirk on Intel Alder Lake
    - ata: libata-core: Add ATA_HORKAGE_NOLPM for Apacer AS340
    - ata: libata-core: Add ATA_HORKAGE_NOLPM for Crucial CT240BX500SSD1
    - ata: libata-core: Add ATA_HORKAGE_NOLPM for AMD Radeon S3 SSD
    - kexec: fix the unexpected kexec_dprintk() macro
    - ocfs2: update inode fsync transaction id in ocfs2_unlink and ocfs2_link
    - dm-integrity: set discard_granularity to logical block size
    - drm/bridge: aux-hpd-bridge: correct devm_drm_dp_hpd_bridge_add() stub
    - iio: temperature: mcp9600: Fix temperature reading for negative values
    - drm/mst: Fix NULL pointer dereference at drm_dp_add_payload_part2
    - riscv: force PAGE_SIZE linear mapping if debug_pagealloc is enabled
    - drm/xe: Properly handle alloc_guc_id() failure
    - wifi: iwlwifi: mvm: support iwl_dev_tx_power_cmd_v8
    - wifi: iwlwifi: mvm: fix a crash on 7265
    - mei: vsc: Fix wrong invocation of ACPI SID method
    - Upstream stable to v6.6.35, v6.9.6

  * [SRU] Add support for intel trace hub for last platforms (LP: #2073926) //
    Noble update: upstream stable patchset 2024-07-25 (LP: #2074091)
    - intel_th: pci: Add Granite Rapids support
    - intel_th: pci: Add Granite Rapids SOC support
    - intel_th: pci: Add Sapphire Rapids SOC support
    - intel_th: pci: Add Lunar Lake support

  * Fix L2CAP/LE/CPU/BV-02-C bluetooth certification failure (LP: #2072858) //
    Noble update: upstream stable patchset 2024-07-25 (LP: #2074091)
    - Bluetooth: L2CAP: Fix rejecting L2CAP_CONN_PARAM_UPDATE_REQ

  * Noble update: upstream stable patchset 2024-07-22 (LP: #2073788)
    - drm/i915/hwmon: Get rid of devm
    - afs: Don't cross .backup mountpoint from backup volume
    - erofs: avoid allocating DEFLATE streams before mounting
    - vxlan: Fix regression when dropping packets due to invalid src addresses
    - drm/sun4i: hdmi: Convert encoder to atomic
    - drm/sun4i: hdmi: Move mode_set into enable
    - f2fs: fix to do sanity check on i_xattr_nid in sanity_check_inode()
    - media: lgdt3306a: Add a check against null-pointer-def
    - drm/amdgpu: add error handle to avoid out-of-bounds
    - wifi: rtw89: correct aSIFSTime for 6GHz band
    - ata: pata_legacy: make legacy_exit() work again
    - fsverity: use register_sysctl_init() to avoid kmemleak warning
    - proc: Move fdinfo PTRACE_MODE_READ check into the inode .permission
      operation
    - platform/chrome: cros_ec: Handle events during suspend after resume
      completion
    - thermal/drivers/qcom/lmh: Check for SCM availability at probe
    - soc: qcom: rpmh-rsc: Enhance check for VRM in-flight request
    - ACPI: resource: Do IRQ override on TongFang GXxHRXx and GMxHGxx
    - arm64: tegra: Correct Tegra132 I2C alias
    - arm64: dts: qcom: qcs404: fix bluetooth device address
    - md/raid5: fix deadlock that raid5d() wait for itself to clear
      MD_SB_CHANGE_PENDING
    - wifi: rtl8xxxu: Fix the TX power of RTL8192CU, RTL8723AU
    - wifi: rtlwifi: rtl8192de: Fix 5 GHz TX power
    - wifi: rtlwifi: rtl8192de: Fix low speed with WPA3-SAE
    - wifi: rtlwifi: rtl8192de: Fix endianness issue in RX path
    - arm64: dts: qcom: sc8280xp: add missing PCIe minimum OPP
    - arm64: dts: hi3798cv200: fix the size of GICR
    - arm64: dts: ti: verdin-am62: Set memory size to 2gb
    - media: mc: Fix graph walk in media_pipeline_start
    - media: mc: mark the media devnode as registered from the, start
    - media: mxl5xx: Move xpt structures off stack
    - media: v4l2-core: hold videodev_lock until dev reg, finishes
    - media: v4l: async: Properly re-initialise notifier entry in unregister
    - media: v4l: async: Don't set notifier's V4L2 device if registering fails
    - media: v4l: async: Fix notifier list entry init
    - mmc: core: Add mmc_gpiod_set_cd_config() function
    - mmc: sdhci: Add support for "Tuning Error" interrupts
    - mmc: sdhci-acpi: Sort DMI quirks alphabetically
    - mmc: sdhci-acpi: Fix Lenovo Yoga Tablet 2 Pro 1380 sdcard slot not working
    - mmc: sdhci-acpi: Disable write protect detection on Toshiba WT10-A
    - mmc: sdhci-acpi: Add quirk to enable pull-up on the card-detect GPIO on Asus
      T100TA
    - drm/fbdev-generic: Do not set physical framebuffer address
    - fbdev: savage: Handle err return when savagefb_check_var failed
    - drm/amdgpu/atomfirmware: add intergrated info v2.3 table
    - 9p: add missing locking around taking dentry fid list
    - drm/amd: Fix shutdown (again) on some SMU v13.0.4/11 platforms
    - Revert "drm/amdkfd: fix gfx_target_version for certain 11.0.3 devices"
    - KVM: SVM: WARN on vNMI + NMI window iff NMIs are outright masked
    - KVM: arm64: Fix AArch32 register narrowing on userspace write
    - KVM: arm64: Allow AArch32 PSTATE.M to be restored as System mode
    - KVM: arm64: AArch32: Fix spurious trapping of conditional instructions
    - LoongArch: Add all CPUs enabled by fdt to NUMA node 0
    - LoongArch: Override higher address bits in JUMP_VIRT_ADDR
    - clk: bcm: dvp: Assign ->num before accessing ->hws
    - clk: bcm: rpi: Assign ->num before accessing ->hws
    - clk: qcom: clk-alpha-pll: fix rate setting for Stromer PLLs
    - crypto: ecdsa - Fix module auto-load on add-key
    - crypto: ecrdsa - Fix module auto-load on add_key
    - crypto: qat - Fix ADF_DEV_RESET_SYNC memory leak
    - kbuild: Remove support for Clang's ThinLTO caching
    - mm: fix race between __split_huge_pmd_locked() and GUP-fast
    - filemap: add helper mapping_max_folio_size()
    - iomap: fault in smaller chunks for non-large folio mappings
    - i2c: acpi: Unbind mux adapters before delete
    - HID: i2c-hid: elan: fix reset suspend current leakage
    - scsi: core: Handle devices which return an unusually large VPD page count
    - net/ipv6: Fix route deleting failure when metric equals 0
    - net/9p: fix uninit-value in p9_client_rpc()
    - mm/ksm: fix ksm_pages_scanned accounting
    - mm/ksm: fix ksm_zero_pages accounting
    - kmsan: do not wipe out origin when doing partial unpoisoning
    - tpm_tis: Do *not* flush uninitialized work
    - intel_th: pci: Add Meteor Lake-S CPU support
    - rtla/timerlat: Fix histogram report when a cpu count is 0
    - sparc64: Fix number of online CPUs
    - mm/cma: drop incorrect alignment check in cma_init_reserved_mem
    - mm/hugetlb: pass correct order_per_bit to cma_declare_contiguous_nid
    - mm: /proc/pid/smaps_rollup: avoid skipping vma after getting mmap_lock again
    - mm/vmalloc: fix vmalloc which may return null if called with __GFP_NOFAIL
    - selftests/mm: compaction_test: fix incorrect write of zero to nr_hugepages
    - selftests/mm: fix build warnings on ppc64
    - watchdog: rti_wdt: Set min_hw_heartbeat_ms to accommodate a safety margin
    - bonding: fix oops during rmmod
    - wifi: ath10k: fix QCOM_RPROC_COMMON dependency
    - kdb: Fix buffer overflow during tab-complete
    - kdb: Use format-strings rather than '\0' injection in kdb_read()
    - kdb: Fix console handling when editing and tab-completing commands
    - kdb: Merge identical case statements in kdb_read()
    - kdb: Use format-specifiers rather than memset() for padding in kdb_read()
    - sparc: move struct termio to asm/termios.h
    - drm/amdkfd: handle duplicate BOs in reserve_bo_and_cond_vms
    - ext4: Fixes len calculation in mpage_journal_page_buffers
    - ext4: set type of ac_groups_linear_remaining to __u32 to avoid overflow
    - ext4: fix mb_cache_entry's e_refcnt leak in ext4_xattr_block_cache_find()
    - riscv: dts: starfive: Remove PMIC interrupt info for Visionfive 2 board
    - ARM: dts: samsung: smdkv310: fix keypad no-autorepeat
    - ARM: dts: samsung: smdk4412: fix keypad no-autorepeat
    - ARM: dts: samsung: exynos4412-origen: fix keypad no-autorepeat
    - parisc: Define HAVE_ARCH_HUGETLB_UNMAPPED_AREA
    - parisc: Define sigset_t in parisc uapi header
    - s390/ap: Fix crash in AP internal function modify_bitmap()
    - s390/cpacf: Split and rework cpacf query functions
    - s390/cpacf: Make use of invalid opcode produce a link error
    - i3c: master: svc: fix invalidate IBI type and miss call client IBI handler
    - genirq/irqdesc: Prevent use-after-free in irq_find_at_or_after()
    - ASoC: SOF: ipc4-topology: Fix input format query of process modules without
      base extension
    - ALSA: ump: Don't clear bank selection after sending a program change
    - ALSA: ump: Don't accept an invalid UMP protocol number
    - EDAC/amd64: Convert PCIBIOS_* return codes to errnos
    - EDAC/igen6: Convert PCIBIOS_* return codes to errnos
    - nfs: fix undefined behavior in nfs_block_bits()
    - NFS: Fix READ_PLUS when server doesn't support OP_READ_PLUS
    - eventfs: Fix a possible null pointer dereference in eventfs_find_events()
    - eventfs: Keep the directories from having the same inode number as files
    - tracefs: Clear EVENT_INODE flag in tracefs_drop_inode()
    - btrfs: fix crash on racing fsync and size-extending write into prealloc
    - btrfs: fix leak of qgroup extent records after transaction abort
    - ALSA: seq: Fix incorrect UMP type for system messages
    - powerpc/bpf: enforce full ordering for ATOMIC operations with BPF_FETCH
    - smb: client: fix deadlock in smb2_find_smb_tcon()
    - smp: Provide 'setup_max_cpus' definition on UP too
    - drm/xe/bb: assert width in xe_bb_create_job()
    - crypto: starfive - Do not free stack buffer
    - btrfs: qgroup: fix initialization of auto inherit array
    - wifi: rtl8xxxu: enable MFP support with security flag of RX descriptor
    - media: mgb4: Fix double debugfs remove
    - media: ov2740: Fix LINK_FREQ and PIXEL_RATE control value reporting
    - firmware: qcom_scm: disable clocks if qcom_scm_bw_enable() fails
    - LoongArch: Fix built-in DTB detection
    - LoongArch: Fix entry point in kernel image header
    - clk: qcom: apss-ipq-pll: use stromer ops for IPQ5018 to fix boot failure
    - net/tcp: Don't consider TCP_CLOSE in TCP_AO_ESTABLISHED
    - selftests: net: lib: support errexit with busywait
    - selftests: net: lib: avoid error removing empty netns name
    - cpufreq: amd-pstate: Fix the inconsistency in max frequency units
    - mm/memory-failure: fix handling of dissolved but not taken off from buddy
      pages
    - selftests/mm: compaction_test: fix bogus test success on Aarch64
    - irqchip/riscv-intc: Prevent memory leak when riscv_intc_init_common() fails
    - Revert "perf record: Reduce memory for recording PERF_RECORD_LOST_SAMPLES
      event"
    - hwmon: (ltc2992) Fix memory leak in ltc2992_parse_dt()
    - riscv: enable HAVE_ARCH_HUGE_VMAP for XIP kernel
    - btrfs: qgroup: update rescan message levels and error codes
    - btrfs: qgroup: fix qgroup id collision across mounts
    - btrfs: cache folio size and shift in extent_buffer
    - btrfs: protect folio::private when attaching extent buffer folios
    - bpf: fix multi-uprobe PID filtering logic
    - powerpc/64/bpf: fix tail calls for PCREL addressing
    - nilfs2: fix potential kernel bug due to lack of writeback flag waiting
    - nilfs2: fix nilfs_empty_dir() misjudgment and long loop on I/O errors
    - Upstream stable to v6.6.34, v6.9.5

  * Noble update: upstream stable patchset 2024-07-19 (LP: #2073603)
    - perf record: Delete session after stopping sideband thread
    - perf probe: Add missing libgen.h header needed for using basename()
    - iio: core: Leave private pointer NULL when no private data supplied
    - greybus: lights: check return of get_channel_from_mode
    - phy: qcom: qmp-combo: fix duplicate return in qmp_v4_configure_dp_phy
    - f2fs: multidev: fix to recognize valid zero block address
    - f2fs: fix to wait on page writeback in __clone_blkaddrs()
    - fpga: manager: add owner module and take its refcount
    - fpga: bridge: add owner module and take its refcount
    - counter: linux/counter.h: fix Excess kernel-doc description warning
    - perf annotate: Get rid of duplicate --group option item
    - usb: typec: ucsi: always register a link to USB PD device
    - usb: typec: ucsi: simplify partner's PD caps registration
    - perf stat: Do not fail on metrics on s390 z/VM systems
    - soundwire: cadence: fix invalid PDI offset
    - dmaengine: idma64: Add check for dma_set_max_seg_size
    - firmware: dmi-id: add a release callback function
    - perf annotate: Fix annotation_calc_lines() to pass correct address to
      get_srcline()
    - serial: max3100: Lock port->lock when calling uart_handle_cts_change()
    - serial: max3100: Update uart_driver_registered on driver removal
    - serial: max3100: Fix bitwise types
    - greybus: arche-ctrl: move device table to its right location
    - PCI: tegra194: Fix probe path for Endpoint mode
    - serial: sc16is7xx: add proper sched.h include for sched_set_fifo()
    - module: don't ignore sysfs_create_link() failures
    - interconnect: qcom: qcm2290: Fix mas_snoc_bimc QoS port assignment
    - arm64: dts: meson: fix S4 power-controller node
    - perf tests: Make "test data symbol" more robust on Neoverse N1
    - perf tests: Apply attributes to all events in object code reading test
    - perf record: Fix debug message placement for test consumption
    - dt-bindings: PCI: rcar-pci-host: Add missing IOMMU properties
    - perf bench uprobe: Remove lib64 from libc.so.6 binary path
    - f2fs: compress: fix to relocate check condition in
      f2fs_{release,reserve}_compress_blocks()
    - f2fs: compress: fix to relocate check condition in
      f2fs_ioc_{,de}compress_file()
    - f2fs: fix to relocate check condition in f2fs_fallocate()
    - f2fs: fix to check pinfile flag in f2fs_move_file_range()
    - iio: adc: stm32: Fixing err code to not indicate success
    - riscv: dts: starfive: visionfive 2: Remove non-existing TDM hardware
    - coresight: etm4x: Fix unbalanced pm_runtime_enable()
    - perf docs: Document bpf event modifier
    - perf test shell arm_coresight: Increase buffer size for Coresight basic
      tests
    - iio: pressure: dps310: support negative temperature values
    - iio: buffer-dmaengine: export buffer alloc and free functions
    - iio: add the IIO backend framework
    - [CONFIG] Update CONFIG_IIO_BACKEND
    - iio: adc: ad9467: convert to backend framework
    - [Config] Update CONFIG_AD9467
    - iio: adc: adi-axi-adc: move to backend framework
    - [Config] Update CONFIG_ADI_AXI_ADC
    - iio: adc: adi-axi-adc: only error out in major version mismatch
    - coresight: etm4x: Do not hardcode IOMEM access for register restore
    - coresight: etm4x: Do not save/restore Data trace control registers
    - coresight: etm4x: Safe access for TRCQCLTR
    - coresight: etm4x: Fix access to resource selector registers
    - vfio/pci: fix potential memory leak in vfio_intx_enable()
    - fpga: region: add owner module and take its refcount
    - udf: Remove GFP_NOFS allocation in udf_expand_file_adinicb()
    - udf: Convert udf_expand_file_adinicb() to use a folio
    - microblaze: Remove gcc flag for non existing early_printk.c file
    - microblaze: Remove early printk call from cpuinfo-static.c
    - PCI: Wait for Link Training==0 before starting Link retrain
    - perf intel-pt: Fix unassigned instruction op (discovered by MemorySanitizer)
    - leds: pwm: Disable PWM when going to suspend
    - ovl: remove upper umask handling from ovl_create_upper()
    - PCI: of_property: Return error for int_map allocation failure
    - VMCI: Fix an error handling path in vmci_guest_probe_device()
    - dt-bindings: pinctrl: mediatek: mt7622: fix array properties
    - pinctrl: qcom: pinctrl-sm7150: Fix sdc1 and ufs special pins regs
    - watchdog: cpu5wdt.c: Fix use-after-free bug caused by cpu5wdt_trigger
    - watchdog: bd9576: Drop "always-running" property
    - watchdog: sa1100: Fix PTR_ERR_OR_ZERO() vs NULL check in sa1100dog_probe()
    - dt-bindings: phy: qcom,sc8280xp-qmp-ufs-phy: fix msm899[68] power-domains
    - dt-bindings: phy: qcom,usb-snps-femto-v2: use correct fallback for sc8180x
    - dmaengine: idxd: Avoid unnecessary destruction of file_ida
    - usb: gadget: u_audio: Fix race condition use of controls after free during
      gadget unbind.
    - usb: gadget: u_audio: Clear uac pointer when freed.
    - stm class: Fix a double free in stm_register_device()
    - ppdev: Add an error check in register_device
    - i2c: cadence: Avoid fifo clear after start
    - i2c: synquacer: Fix an error handling path in synquacer_i2c_probe()
    - perf bench internals inject-build-id: Fix trap divide when collecting just
      one DSO
    - perf ui browser: Don't save pointer to stack memory
    - extcon: max8997: select IRQ_DOMAIN instead of depending on it
    - dt-bindings: spmi: hisilicon,hisi-spmi-controller: fix binding references
    - PCI/EDR: Align EDR_PORT_DPC_ENABLE_DSM with PCI Firmware r3.3
    - PCI/EDR: Align EDR_PORT_LOCATE_DSM with PCI Firmware r3.3
    - f2fs: support printk_ratelimited() in f2fs_printk()
    - f2fs: use BLKS_PER_SEG, BLKS_PER_SEC, and SEGS_PER_SEC
    - f2fs: separate f2fs_gc_range() to use GC for a range
    - f2fs: kill heap-based allocation
    - f2fs: support file pinning for zoned devices
    - f2fs: fix block migration when section is not aligned to pow2
    - perf ui browser: Avoid SEGV on title
    - perf report: Avoid SEGV in report__setup_sample_type()
    - perf thread: Fixes to thread__new() related to initializing comm
    - perf symbols: Fix ownership of string in dso__load_vmlinux()
    - f2fs: compress: fix to update i_compr_blocks correctly
    - f2fs: deprecate io_bits
    - f2fs: introduce get_available_block_count() for cleanup
    - f2fs: compress: fix error path of inc_valid_block_count()
    - f2fs: compress: fix to cover {reserve,release}_compress_blocks() w/ cp_rwsem
      lock
    - f2fs: fix to release node block count in error path of f2fs_new_node_page()
    - f2fs: compress: don't allow unaligned truncation on released compress inode
    - serial: sh-sci: protect invalidating RXDMA on shutdown
    - libsubcmd: Fix parse-options memory leak
    - perf daemon: Fix file leak in daemon_session__control
    - f2fs: fix to add missing iput() in gc_data_segment()
    - usb: fotg210: Add missing kernel doc description
    - perf stat: Don't display metric header for non-leader uncore events
    - perf tools: Use pmus to describe type from attribute
    - perf tools: Add/use PMU reverse lookup from config to name
    - perf pmu: Assume sysfs events are always the same case
    - perf pmu: Count sys and cpuid JSON events separately
    - LoongArch: Fix callchain parse error with kernel tracepoint events again
    - s390/vdso64: filter out munaligned-symbols flag for vdso
    - s390/vdso: Generate unwind information for C modules
    - s390/vdso: Create .build-id links for unstripped vdso files
    - s390/vdso: Use standard stack frame layout
    - s390/ipl: Fix incorrect initialization of len fields in nvme reipl block
    - s390/ipl: Fix incorrect initialization of nvme dump block
    - s390/boot: Remove alt_stfle_fac_list from decompressor
    - dt-bindings: PCI: rockchip,rk3399-pcie: Add missing maxItems to ep-gpios
    - gpiolib: acpi: Fix failed in acpi_gpiochip_find() by adding parent node
      match
    - eventfs: Do not differentiate the toplevel events directory
    - eventfs: Create eventfs_root_inode to store dentry
    - eventfs/tracing: Add callback for release of an eventfs_inode
    - eventfs: Free all of the eventfs_inode after RCU
    - eventfs: Have "events" directory get permissions from its parent
    - dt-bindings: adc: axi-adc: update bindings for backend framework
    - dt-bindings: adc: axi-adc: add clocks property
    - Input: ims-pcu - fix printf string overflow
    - mmc: sdhci_am654: Add tuning algorithm for delay chain
    - mmc: sdhci_am654: Write ITAPDLY for DDR52 timing
    - mmc: sdhci_am654: Add OTAP/ITAP delay enable
    - mmc: sdhci_am654: Add ITAPDLYSEL in sdhci_j721e_4bit_set_clock
    - mmc: sdhci_am654: Fix ITAPDLY for HS400 timing
    - Input: pm8xxx-vibrator - correct VIB_MAX_LEVELS calculation
    - media: v4l: Don't turn on privacy LED if streamon fails
    - media: ov2680: Clear the 'ret' variable on success
    - media: ov2680: Allow probing if link-frequencies is absent
    - media: ov2680: Do not fail if data-lanes property is absent
    - drm/msm/dsi: Print dual-DSI-adjusted pclk instead of original mode pclk
    - drm/msm/dpu: Always flush the slave INTF on the CTL
    - drm/mediatek: dp: Fix mtk_dp_aux_transfer return value
    - drm/meson: gate px_clk when setting rate
    - um: Fix return value in ubd_init()
    - um: vector: fix bpfflash parameter evaluation
    - fs/ntfs3: Check 'folio' pointer for NULL
    - fs/ntfs3: Use 64 bit variable to avoid 32 bit overflow
    - fs/ntfs3: Use variable length array instead of fixed size
    - drm/msm/dpu: Add callback function pointer check before its call
    - drm/bridge: tc358775: fix support for jeida-18 and jeida-24
    - media: stk1160: fix bounds checking in stk1160_copy_video()
    - Input: cyapa - add missing input core locking to suspend/resume functions
    - drm/amdgpu: init microcode chip name from ip versions
    - drm/amdgpu: Fix buffer size in gfx_v9_4_3_init_ cp_compute_microcode() and
      rlc_microcode()
    - media: mediatek: vcodec: fix possible unbalanced PM counter
    - tools/arch/x86/intel_sdsi: Fix maximum meter bundle length
    - tools/arch/x86/intel_sdsi: Fix meter_show display
    - tools/arch/x86/intel_sdsi: Fix meter_certificate decoding
    - platform/x86: thinkpad_acpi: Take hotkey_mutex during hotkey_exit()
    - media: flexcop-usb: fix sanity check of bNumEndpoints
    - powerpc/pseries: Add failure related checks for h_get_mpp and h_get_ppp
    - um: Fix the -Wmissing-prototypes warning for __switch_mm
    - um: Fix the -Wmissing-prototypes warning for get_thread_reg
    - um: Fix the declaration of kasan_map_memory
    - cxl/trace: Correct DPA field masks for general_media & dram events
    - cxl/region: Fix cxlr_pmem leaks
    - media: sunxi: a83-mips-csi2: also select GENERIC_PHY
    - media: cec: cec-adap: always cancel work in cec_transmit_msg_fh
    - media: cec: cec-api: add locking in cec_release()
    - media: cec: core: avoid recursive cec_claim_log_addrs
    - media: cec: core: avoid confusing "transmit timed out" message
    - Revert "drm/bridge: ti-sn65dsi83: Fix enable error path"
    - drm: zynqmp_dpsub: Always register bridge
    - selftests/powerpc/dexcr: Add -no-pie to hashchk tests
    - drm/msm/a6xx: Avoid a nullptr dereference when speedbin setting fails
    - ASoC: tas2781: Fix a warning reported by robot kernel test
    - null_blk: Fix the WARNING: modpost: missing MODULE_DESCRIPTION()
    - ALSA: hda/cs_dsp_ctl: Use private_free for control cleanup
    - ALSA: hda: cs35l56: Fix lifetime of cs_dsp instance
    - ASoC: mediatek: mt8192: fix register configuration for tdm
    - drm/nouveau: use tile_mode and pte_kind for VM_BIND bo allocations
    - blk-cgroup: fix list corruption from resetting io stat
    - blk-cgroup: fix list corruption from reorder of WRITE ->lqueued
    - blk-cgroup: Properly propagate the iostat update up the hierarchy
    - regulator: bd71828: Don't overwrite runtime voltages
    - xen/x86: add extra pages to unpopulated-alloc if available
    - perf/arm-dmc620: Fix lockdep assert in ->event_init()
    - x86/kconfig: Select ARCH_WANT_FRAME_POINTERS again when
      UNWINDER_FRAME_POINTER=y
    - [Config] Update CONFIG_ARCH_WANT_FRAME_POINTERS
    - net: Always descend into dsa/ folder with CONFIG_NET_DSA enabled
    - ipv6: sr: fix missing sk_buff release in seg6_input_core
    - selftests: net: kill smcrouted in the cleanup logic in amt.sh
    - nfc: nci: Fix uninit-value in nci_rx_work
    - ASoC: tas2552: Add TX path for capturing AUDIO-OUT data
    - ASoC: tas2781: Fix wrong loading calibrated data sequence
    - NFSv4: Fixup smatch warning for ambiguous return
    - nfs: keep server info for remounts
    - sunrpc: fix NFSACL RPC retry on soft mount
    - rpcrdma: fix handling for RDMA_CM_EVENT_DEVICE_REMOVAL
    - regulator: pickable ranges: don't always cache vsel
    - regulator: tps6287x: Force writing VSEL bit
    - af_unix: Update unix_sk(sk)->oob_skb under sk_receive_queue lock.
    - ipv6: sr: fix memleak in seg6_hmac_init_algo
    - regulator: tps6594-regulator: Correct multi-phase configuration
    - tcp: Fix shift-out-of-bounds in dctcp_update_alpha().
    - pNFS/filelayout: fixup pNfs allocation modes
    - openvswitch: Set the skbuff pkt_type for proper pmtud support.
    - arm64: asm-bug: Add .align 2 to the end of __BUG_ENTRY
    - rv: Update rv_en(dis)able_monitor doc to match kernel-doc
    - net: lan966x: Remove ptp traps in case the ptp is not enabled.
    - virtio: delete vq in vp_find_vqs_msix() when request_irq() fails
    - i3c: master: svc: change ENXIO to EAGAIN when IBI occurs during start frame
    - Revert "ixgbe: Manual AN-37 for troublesome link partners for X550 SFI"
    - net: fec: avoid lock evasion when reading pps_enable
    - tls: fix missing memory barrier in tls_init
    - net: relax socket state check at accept time.
    - nfc: nci: Fix handling of zero-length payload packets in nci_rx_work()
    - drivers/xen: Improve the late XenStore init protocol
    - ice: Interpret .set_channels() input differently
    - kasan, fortify: properly rename memintrinsics
    - tracing/probes: fix error check in parse_btf_field()
    - tpm_tis_spi: Account for SPI header when allocating TPM SPI xfer buffer
    - netfilter: nfnetlink_queue: acquire rcu_read_lock() in
      instance_destroy_rcu()
    - netfilter: ipset: Add list flush to cancel_gc
    - netfilter: nft_payload: restore vlan q-in-q match support
    - spi: Don't mark message DMA mapped when no transfer in it is
    - dma-mapping: benchmark: fix up kthread-related error handling
    - dma-mapping: benchmark: fix node id validation
    - dma-mapping: benchmark: handle NUMA_NO_NODE correctly
    - nvme-multipath: fix io accounting on failover
    - nvmet: fix ns enable/disable possible hang
    - drm/amd/display: Enable colorspace property for MST connectors
    - net: phy: micrel: set soft_reset callback to genphy_soft_reset for KSZ8061
    - net/mlx5: Lag, do bond only if slaves agree on roce state
    - net/mlx5: Fix MTMP register capability offset in MCAM register
    - net/mlx5: Use mlx5_ipsec_rx_status_destroy to correctly delete status rules
    - net/mlx5e: Fix IPsec tunnel mode offload feature check
    - net/mlx5e: Use rx_missed_errors instead of rx_dropped for reporting buffer
      exhaustion
    - net/mlx5e: Fix UDP GSO for encapsulated packets
    - dma-buf/sw-sync: don't enable IRQ from sync_print_obj()
    - bpf: Fix potential integer overflow in resolve_btfids
    - ALSA: jack: Use guard() for locking
    - ALSA: core: Remove debugfs at disconnection
    - ALSA: hda/realtek: Adjust G814JZR to use SPI init for amp
    - enic: Validate length of nl attributes in enic_set_vf_port
    - af_unix: Annotate data-race around unix_sk(sk)->addr.
    - af_unix: Read sk->sk_hash under bindlock during bind().
    - Octeontx2-pf: Free send queue buffers incase of leaf to inner
    - net: usb: smsc95xx: fix changing LED_SEL bit value updated from EEPROM
    - ASoC: cs42l43: Only restrict 44.1kHz for the ASP
    - bpf: Allow delete from sockmap/sockhash only if update is allowed
    - net:fec: Add fec_enet_deinit()
    - net: micrel: Fix lan8841_config_intr after getting out of sleep mode
    - ice: fix accounting if a VLAN already exists
    - selftests: mptcp: simult flows: mark 'unbalanced' tests as flaky
    - selftests: mptcp: add ms units for tc-netem delay
    - selftests: mptcp: join: mark 'fail' tests as flaky
    - ALSA: seq: Fix missing bank setup between MIDI1/MIDI2 UMP conversion
    - ALSA: seq: Don't clear bank selection at event -> UMP MIDI2 conversion
    - net: ti: icssg-prueth: Fix start counter for ft1 filter
    - netfilter: nft_payload: skbuff vlan metadata mangle support
    - netfilter: tproxy: bail out if IP has been disabled on the device
    - netfilter: nft_fib: allow from forward/input without iif selector
    - net/sched: taprio: make q->picos_per_byte available to fill_sched_entry()
    - net/sched: taprio: extend minimum interval restriction to entire cycle too
    - kconfig: fix comparison to constant symbols, 'm', 'n'
    - drm/i915/guc: avoid FIELD_PREP warning
    - kheaders: use `command -v` to test for existence of `cpio`
    - spi: stm32: Don't warn about spurious interrupts
    - net: dsa: microchip: fix RGMII error in KSZ DSA driver
    - net: ena: Reduce lines with longer column width boundary
    - net: ena: Fix redundant device NUMA node override
    - ipvlan: Dont Use skb->sk in ipvlan_process_v{4,6}_outbound
    - ALSA: seq: Fix yet another spot for system message conversion
    - powerpc/pseries/lparcfg: drop error message from guest name lookup
    - drm/panel: sitronix-st7789v: fix timing for jt240mhqs_hwt_ek_e3 panel
    - drm/panel: sitronix-st7789v: tweak timing for jt240mhqs_hwt_ek_e3 panel
    - drm/panel: sitronix-st7789v: fix display size for jt240mhqs_hwt_ek_e3 panel
    - hwmon: (intel-m10-bmc-hwmon) Fix multiplier for N6000 board power sensor
    - hwmon: (shtc1) Fix property misspelling
    - ALSA: seq: ump: Fix swapped song position pointer data
    - ALSA: timer: Set lower bound of start tick time
    - x86/efistub: Omit physical KASLR when memory reservations exist
    - efi: libstub: only free priv.runtime_map when allocated
    - x86/pci: Skip early E820 check for ECAM region
    - KVM: x86: Don't advertise guest.MAXPHYADDR as host.MAXPHYADDR in CPUID
    - genirq/cpuhotplug, x86/vector: Prevent vector leak during CPU offline
    - platform/x86/intel/tpmi: Handle error from tpmi_process_info()
    - platform/x86/intel-uncore-freq: Don't present root domain on error
    - perf sched timehist: Fix -g/--call-graph option failure
    - f2fs: write missing last sum blk of file pinning section
    - f2fs: use f2fs_{err,info}_ratelimited() for cleanup
    - SUNRPC: Fix loop termination condition in gss_free_in_token_pages()
    - riscv: prevent pt_regs corruption for secondary idle threads
    - riscv: stacktrace: fixed walk_stackframe()
    - perf build: Fix out of tree build related to installation of sysreg-defs
    - dt-bindings: pinctrl: qcom: update functions to match with driver
    - usb: typec: ucsi: allow non-partner GET_PDOS for Qualcomm devices
    - perf report: Fix PAI counter names for s390 virtual machines
    - PCI: dwc: ep: Fix DBI access failure for drivers requiring refclk from host
    - perf map: Remove kernel map before updating start and end addresses
    - riscv: dts: starfive: visionfive 2: Remove non-existing I2S hardware
    - pinctrl: renesas: rzg2l: Limit 2.5V power supply to Ethernet interfaces
    - riscv: Flush the instruction cache during SMP bringup
    - usb: xhci: check if 'requested segments' exceeds ERST capacity
    - spmi: pmic-arb: Replace three IS_ERR() calls by null pointer checks in
      spmi_pmic_arb_probe()
    - perf symbols: Remove map from list before updating addresses
    - perf symbols: Update kcore map before merging in remaining symbols
    - s390/ftrace: Use unwinder instead of __builtin_return_address()
    - s390/stacktrace: Merge perf_callchain_user() and arch_stack_walk_user()
    - s390/stacktrace: Skip first user stack frame
    - s390/stacktrace: Improve detection of invalid instruction pointers
    - s390/vdso: Introduce and use struct stack_frame_vdso_wrapper
    - s390/stackstrace: Detect vdso stack frames
    - s390/ap: Fix bind complete udev event sent after each AP bus scan
    - ocfs2: correctly use ocfs2_find_next_zero_bit()
    - mailbox: mtk-cmdq: Fix pm_runtime_get_sync() warning in mbox shutdown
    - Input: ioc3kbd - add device table
    - phy: qcom: qmp-combo: fix sm8650 voltage swing table
    - media: ti: j721e-csi2rx: Fix races while restarting DMA
    - drm/msm/dpu: Allow configuring multiple active DSC blocks
    - drm: Make drivers depends on DRM_DW_HDMI
    - [Config] Drivers now depend on DRM_DW_HDMI
    - string: Prepare to merge strscpy_kunit.c into string_kunit.c
    - string: Prepare to merge strcat KUnit tests into string_kunit.c
    - drm/msm/adreno: fix CP cycles stat retrieval on a7xx
    - printk: Fix LOG_CPU_MAX_BUF_SHIFT when BASE_SMALL is enabled
    - powerpc/bpf/32: Fix failing test_bpf tests
    - KVM: PPC: Book3S HV nestedv2: Cancel pending DEC exception
    - KVM: PPC: Book3S HV nestedv2: Fix an error handling path in
      gs_msg_ops_kvmhv_nestedv2_config_fill_info()
    - KVM: arm64: Destroy mpidr_data for 'late' vCPU creation
    - Bluetooth: ISO: Handle PA sync when no BIGInfo reports are generated
    - Bluetooth: L2CAP: Fix div-by-zero in l2cap_le_flowctl_init()
    - ubsan: Restore dependency on ARCH_HAS_UBSAN
    - selftests: forwarding: Have RET track kselftest framework constants
    - selftests: forwarding: Convert log_test() to recognize RET values
    - selftests: net: Unify code of busywait() and slowwait()
    - selftests/net: use tc rule to filter the na packet
    - virtio_balloon: Give the balloon its own wakeup source
    - riscv: cpufeature: Fix thead vector hwcap removal
    - riscv: cpufeature: Fix extension subset checking
    - riscv: selftests: Add hwprobe binaries to .gitignore
    - idpf: Interpret .set_channels() input differently
    - null_blk: fix null-ptr-dereference while configuring 'power' and
      'submit_queues'
    - netfs: Fix setting of BDP_ASYNC from iocb flags
    - cifs: Set zero_point in the copy_file_range() and remap_file_range()
    - cifs: Fix missing set of remote_i_size
    - selftests: net: lib: set 'i' as local
    - nvme: fix multipath batched completion accounting
    - netkit: Fix setting mac address in l2 mode
    - netkit: Fix pkt_type override upon netkit pass verdict
    - null_blk: Fix return value of nullb_device_power_store()
    - idpf: don't enable NAPI and interrupts prior to allocating Rx buffers
    - selftests: mptcp: join: mark 'fastclose' tests as flaky
    - drm/xe: Add dbg messages on the suspend resume functions.
    - drm/xe: check pcode init status only on root gt of root tile
    - drm/xe: Change pcode timeout to 50msec while polling again
    - drm/xe: Only use reserved BCS instances for usm migrate exec queue
    - sd: also set max_user_sectors when setting max_sectors
    - block: stack max_user_sectors
    - ipv6: introduce dst_rt6_info() helper
    - inet: introduce dst_rtable() helper
    - net: fix __dst_negative_advice() race
    - ice: fix 200G PHY types to link speed mapping
    - x86/topology/intel: Unlock CPUID before evaluating anything
    - Upstream stable to v6.6.33, v6.9.4

  * Reenable CONFIG_UBSAN for noble (LP: #2076650)
    - ubsan: Remove CONFIG_UBSAN_SANITIZE_ALL
    - [Config] Remove CONFIG_UBSAN_SANITIZE_ALL

  * Dangling symlink to linux-lib-rust when Rust is disabled (LP: #2072592)
    - [Packaging] Check do_lib_rust before linking Rust lib files

  * kdump doesn't work with UEFI secure boot and kernel lockdown enabled on
    ARM64 (LP: #2033007)
    - [Config]: Enable CONFIG_KEXEC_IMAGE_VERIFY_SIG on arm64

  * net/sched: Fix conntrack use-after-free (LP: #2073092)
    - net/sched: Fix UAF when resolving a clash

  * No sound on Huawei Matebook D14  AMD since Linux 6.8.0-38 [regression]
    (LP: #2073049)
    - ASoC: amd: acp: fix for acp platform device creation failure

  * i915: Fixup regressions introduced with enabling single CCS engine
    (LP: #2072755)
    - drm/i915/gt: Fix CCS id's calculation for CCS mode setting

  * [Ubuntu 24.04] FW1060.00 (NH1060_026) sosreport is running to Kernel OOPS
    crash (LP: #2070358)
    - nfsd: initialise nfsd_info.mutex early.

  * 6.8 generic & amdpgu / polaris (LP: #2072428)
    - drm/amdgpu: Adjust logic in amdgpu_device_partner_bandwidth()

  * md: nvme over tcp with a striped underlying md raid device leads to data
    corruption (LP: #2075110)
    - md/md-bitmap: fix writing non bitmap pages

  * Linux 6.8 fails to boot on ARM64 if any param is more than 146 chars
    (LP: #2069534)
    - SAUCE: arm64: v6.8: cmdline param >= 146 chars kills kernel

  * CVE-2024-39484
    - mmc: davinci: Don't strip remove function when driver is builtin

  * CVE-2024-39292
    - um: Add winch to winch_handlers before registering winch IRQ

  * Miscellaneous upstream changes
    - bnx2x: Fix multiple UBSAN array-index-out-of-bounds

 -- Roxana Nicolescu <roxana.nicolescu@canonical.com>  Tue, 13 Aug 2024 12:20:36 +0200
